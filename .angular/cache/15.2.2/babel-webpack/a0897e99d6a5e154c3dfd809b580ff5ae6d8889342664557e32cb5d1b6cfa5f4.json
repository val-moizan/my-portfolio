{"ast":null,"code":"import { Component, Directive, ElementRef, HostListener, Input, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nvar ParticlesComponent = function () {\n  function ParticlesComponent() {\n    this.width = 100;\n    this.height = 100;\n    this.style = {};\n  }\n  return ParticlesComponent;\n}();\nParticlesComponent.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'particles',\n    template: \"\\n        <div [ngStyle]=\\\"style\\\" class=\\\"particles-container\\\">\\n            <canvas d-particles [params]=\\\"params\\\" [style.width.%]=\\\"width\\\" [style.height.%]=\\\"height\\\"></canvas>\\n        </div>\\n    \"\n  }]\n}];\n/**\r\n * @nocollapse\r\n */\nParticlesComponent.ctorParameters = function () {\n  return [];\n};\nParticlesComponent.propDecorators = {\n  'width': [{\n    type: Input\n  }],\n  'height': [{\n    type: Input\n  }],\n  'params': [{\n    type: Input\n  }],\n  'style': [{\n    type: Input\n  }]\n};\nvar hexToRgb = function (hex) {\n  var /** @type {?} */shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n    return r + r + g + g + b + b;\n  });\n  var /** @type {?} */result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n};\nvar clamp = function (number, min, max) {\n  return Math.min(Math.max(number, min), max);\n};\nvar isInArray = function (value, array) {\n  return array.indexOf(value) > -1;\n};\nvar deepExtend = function (destination, source) {\n  for (var /** @type {?} */property in source) {\n    if (source[property] && source[property].constructor && source[property].constructor === Object) {\n      destination[property] = destination[property] || {};\n      deepExtend(destination[property], source[property]);\n    } else {\n      destination[property] = source[property];\n    }\n  }\n  return destination;\n};\nvar getColor = function (colorObject) {\n  var /** @type {?} */color = {};\n  if (typeof colorObject == 'object') {\n    if (colorObject instanceof Array) {\n      var /** @type {?} */selectedColor = colorObject[Math.floor(Math.random() * colorObject.length)];\n      color.rgb = hexToRgb(selectedColor);\n    } else {\n      var r = colorObject.r,\n        g = colorObject.g,\n        b = colorObject.b;\n      if (r !== undefined && g !== undefined && b !== undefined) {\n        color.rgb = {\n          r: r,\n          g: g,\n          b: b\n        };\n      } else {\n        var h = colorObject.h,\n          s = colorObject.s,\n          l = colorObject.l;\n        if (h !== undefined && g !== undefined && b !== undefined) {\n          color.hsl = {\n            h: h,\n            s: s,\n            l: l\n          };\n        }\n      }\n    }\n  } else if (colorObject == 'random') {\n    color.rgb = {\n      r: Math.floor(Math.random() * 255) + 1,\n      g: Math.floor(Math.random() * 255) + 1,\n      b: Math.floor(Math.random() * 255) + 1\n    };\n  } else if (typeof colorObject == 'string') {\n    color.rgb = hexToRgb(colorObject);\n  }\n  return color;\n};\nvar getDefaultParams = function () {\n  return {\n    particles: {\n      number: {\n        value: 100,\n        density: {\n          enable: true,\n          value_area: 800\n        }\n      },\n      color: {\n        value: '#FFF'\n      },\n      shape: {\n        type: 'circle',\n        stroke: {\n          width: 0,\n          color: '#000000'\n        },\n        polygon: {\n          nb_sides: 5\n        },\n        image: {\n          src: '',\n          width: 100,\n          height: 100\n        }\n      },\n      opacity: {\n        value: 0.5,\n        random: false,\n        anim: {\n          enable: true,\n          speed: 1,\n          opacity_min: 0.1,\n          sync: false\n        }\n      },\n      size: {\n        value: 3,\n        random: true,\n        anim: {\n          enable: false,\n          speed: 40,\n          size_min: 0,\n          sync: false\n        }\n      },\n      line_linked: {\n        enable: true,\n        distance: 150,\n        color: '#FFF',\n        opacity: 0.6,\n        width: 1,\n        shadow: {\n          enable: false,\n          blur: 5,\n          color: 'lime'\n        }\n      },\n      move: {\n        enable: true,\n        speed: 3,\n        direction: 'none',\n        random: false,\n        straight: false,\n        out_mode: 'out',\n        bounce: true,\n        attract: {\n          enable: false,\n          rotateX: 3000,\n          rotateY: 3000\n        }\n      },\n      array: []\n    },\n    interactivity: {\n      detect_on: 'canvas',\n      events: {\n        onhover: {\n          enable: true,\n          mode: 'grab'\n        },\n        onclick: {\n          enable: true,\n          mode: 'push'\n        },\n        resize: true\n      },\n      modes: {\n        grab: {\n          distance: 200,\n          line_linked: {\n            opacity: 1\n          }\n        },\n        bubble: {\n          distance: 200,\n          size: 80,\n          duration: 0.4\n        },\n        repulse: {\n          distance: 200,\n          duration: 0.4\n        },\n        push: {\n          particles_nb: 4\n        },\n        remove: {\n          particles_nb: 2\n        }\n      },\n      mouse: {}\n    },\n    retina_detect: true\n  };\n};\n/**\r\n * @param {?} params\r\n * @param {?} tmp\r\n * @return {?}\r\n */\nfunction loadImg(params, tmp) {\n  var particles = this.params.particles;\n  tmp.img_error = undefined;\n  if (particles.shape.type == 'image' && particles.shape.image.src != '') {\n    if (tmp.img_type == 'svg') {\n      var /** @type {?} */xhr_1 = new XMLHttpRequest();\n      xhr_1.open('GET', particles.shape.image.src);\n      xhr_1.onreadystatechange = function (data) {\n        if (xhr_1.readyState == 4) {\n          if (xhr_1.status == 200) {\n            tmp.source_svg = data.currentTarget.response;\n            if (tmp.source_svg == undefined) {\n              var /** @type {?} */check = void 0;\n              tmp.checkAnimFrame = requestAnimationFrame(check);\n            }\n          } else {\n            tmp.img_error = true;\n            throw \"Error : image not found\";\n          }\n        }\n      };\n      xhr_1.send();\n    } else {\n      var /** @type {?} */img_1 = new Image();\n      img_1.addEventListener('load', function () {\n        tmp.img_obj = img_1;\n        cancelAnimationFrame(tmp.checkAnimFrame);\n      });\n      img_1.src = particles.shape.image.src;\n    }\n  } else {\n    tmp.img_error = true;\n    throw \"Error : no image.src\";\n  }\n}\n/**\r\n * @param {?} particle\r\n * @param {?} tmp\r\n * @return {?}\r\n */\nfunction createSvgImg(particle, tmp) {\n  var /** @type {?} */svgXml = tmp.source_svg;\n  var /** @type {?} */rgbHex = /#([0-9A-F]{3,6})/gi;\n  var /** @type {?} */coloredSvgXml = svgXml.replace(rgbHex, function (m, r, g, b) {\n    var /** @type {?} */color_value;\n    if (particle.color.rgb) {\n      var _a = particle.color.rgb,\n        r_1 = _a.r,\n        g_1 = _a.g,\n        b_1 = _a.b;\n      color_value = \"rgba( \" + r_1 + \", \" + g_1 + \", \" + b_1 + \", \" + particle.opacity + \" )\";\n    } else {\n      var _b = particle.color.hsl,\n        h = _b.h,\n        s = _b.s,\n        l = _b.l;\n      color_value = \"rgba( \" + h + \", \" + s + \", \" + l + \", \" + particle.opacity + \" )\";\n    }\n    return color_value;\n  });\n  var /** @type {?} */svg = new Blob([coloredSvgXml], {\n    type: 'image/svg+xml;charset=utf-8'\n  });\n  var /** @type {?} */DOMURL = window.URL || window;\n  var /** @type {?} */url = DOMURL.createObjectURL(svg);\n  var /** @type {?} */img = new Image();\n  img.addEventListener('load', function () {\n    particle.img.obj = img;\n    particle.img.loaded = true;\n    DOMURL.revokeObjectURL(url);\n    tmp.count_svg++;\n  });\n  img.src = url;\n}\nvar CanvasManager$$1 = function () {\n  /**\r\n   * @param {?} _canvasParams\r\n   * @param {?} _params\r\n   * @param {?} _tmpParams\r\n   */\n  function CanvasManager$$1(_canvasParams, _params, _tmpParams) {\n    this._canvasParams = _canvasParams;\n    this._params = _params;\n    this._tmpParams = _tmpParams;\n    this._onWindowResize = this._onWindowResize.bind(this);\n    this._retinaInit();\n    this._canvasSize();\n    this.particlesManager = new ParticlesManager$$1(this._canvasParams, this._params, this._tmpParams);\n    this.particlesManager.particlesCreate();\n    this._densityAutoParticles();\n    var particles = this._params.particles;\n    particles.line_linked.color_rgb_line = hexToRgb(particles.line_linked.color);\n  }\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype.draw = function () {\n    var particles = this._params.particles;\n    if (particles.shape.type == 'image') {\n      if (this._tmpParams.img_type == 'svg') {\n        if (this._tmpParams.count_svg >= particles.number.value) {\n          this.particlesManager.particlesDraw();\n          if (!particles.move.enable) {\n            cancelAnimationFrame(this._tmpParams.drawAnimFrame);\n          } else {\n            this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\n          }\n        } else {\n          if (!this._tmpParams.img_error) {\n            this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\n          }\n        }\n      } else {\n        if (this._tmpParams.img_obj != undefined) {\n          this.particlesManager.particlesDraw();\n          if (!particles.move.enable) {\n            cancelAnimationFrame(this._tmpParams.drawAnimFrame);\n          } else {\n            this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\n          }\n        } else {\n          if (!this._tmpParams.img_error) {\n            this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\n          }\n        }\n      }\n    } else {\n      this.particlesManager.particlesDraw();\n      if (!particles.move.enable) {\n        cancelAnimationFrame(this._tmpParams.drawAnimFrame);\n      } else {\n        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\n      }\n    }\n  };\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype._densityAutoParticles = function () {\n    var particles = this._params.particles;\n    if (particles.number.density.enable) {\n      var /** @type {?} */area = this._canvasParams.el.width * this._canvasParams.el.height / 1000;\n      if (this._tmpParams.retina) {\n        area = area / (this._canvasParams.pxratio * 2);\n      }\n      var /** @type {?} */nb_particles = area * particles.number.value / particles.number.density.value_area;\n      var /** @type {?} */missing_particles = particles.array.length - nb_particles;\n      if (missing_particles < 0) {\n        this.particlesManager.pushParticles(Math.abs(missing_particles));\n      } else {\n        this.particlesManager.removeParticles(missing_particles);\n      }\n    }\n  };\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype._retinaInit = function () {\n    if (this._params.retina_detect && window.devicePixelRatio > 1) {\n      this._canvasParams.pxratio = window.devicePixelRatio;\n      this._tmpParams.retina = true;\n      this._canvasParams.width = this._canvasParams.el.offsetWidth * this._canvasParams.pxratio;\n      this._canvasParams.height = this._canvasParams.el.offsetHeight * this._canvasParams.pxratio;\n      this._params.particles.size.value = this._tmpParams.obj.size_value * this._canvasParams.pxratio;\n      this._params.particles.size.anim.speed = this._tmpParams.obj.size_anim_speed * this._canvasParams.pxratio;\n      this._params.particles.move.speed = this._tmpParams.obj.move_speed * this._canvasParams.pxratio;\n      this._params.particles.line_linked.distance = this._tmpParams.obj.line_linked_distance * this._canvasParams.pxratio;\n      this._params.interactivity.modes.grab.distance = this._tmpParams.obj.mode_grab_distance * this._canvasParams.pxratio;\n      this._params.interactivity.modes.bubble.distance = this._tmpParams.obj.mode_bubble_distance * this._canvasParams.pxratio;\n      this._params.particles.line_linked.width = this._tmpParams.obj.line_linked_width * this._canvasParams.pxratio;\n      this._params.interactivity.modes.bubble.size = this._tmpParams.obj.mode_bubble_size * this._canvasParams.pxratio;\n      this._params.interactivity.modes.repulse.distance = this._tmpParams.obj.mode_repulse_distance * this._canvasParams.pxratio;\n    } else {\n      this._canvasParams.pxratio = 1;\n      this._tmpParams.retina = false;\n    }\n  };\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype._canvasClear = function () {\n    this._canvasParams.ctx.clearRect(0, 0, this._canvasParams.width, this._canvasParams.height);\n  };\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype._canvasPaint = function () {\n    this._canvasParams.ctx.fillRect(0, 0, this._canvasParams.width, this._canvasParams.height);\n  };\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype._canvasSize = function () {\n    this._canvasParams.el.width = this._canvasParams.width;\n    this._canvasParams.el.height = this._canvasParams.height;\n    if (this._params && this._params.interactivity.events.resize) {\n      window.addEventListener('resize', this._onWindowResize);\n    }\n  };\n  /**\r\n   * @return {?}\r\n   */\n  CanvasManager$$1.prototype._onWindowResize = function () {\n    this._canvasParams.width = this._canvasParams.el.offsetWidth;\n    this._canvasParams.height = this._canvasParams.el.offsetHeight;\n    if (this._tmpParams.retina) {\n      this._canvasParams.width *= this._canvasParams.pxratio;\n      this._canvasParams.height *= this._canvasParams.pxratio;\n    }\n    this._canvasParams.el.width = this._canvasParams.width;\n    this._canvasParams.el.height = this._canvasParams.height;\n    if (!this._params.particles.move.enable) {\n      this.particlesManager.particlesEmpty();\n      this.particlesManager.particlesCreate();\n      this.particlesManager.particlesDraw();\n      this._densityAutoParticles();\n    }\n    this._densityAutoParticles();\n  };\n  return CanvasManager$$1;\n}();\nvar ParticlesManager$$1 = function () {\n  /**\r\n   * @param {?} _canvasParams\r\n   * @param {?} _params\r\n   * @param {?} _tmpParams\r\n   */\n  function ParticlesManager$$1(_canvasParams, _params, _tmpParams) {\n    this._canvasParams = _canvasParams;\n    this._params = _params;\n    this._tmpParams = _tmpParams;\n    this._interaction = new ParticleInteraction();\n  }\n  /**\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype.particlesCreate = function () {\n    var _a = this._params.particles,\n      color = _a.color,\n      opacity = _a.opacity;\n    for (var /** @type {?} */i = 0; i < this._params.particles.number.value; i++) {\n      this._params.particles.array.push(new Particle$$1(this._canvasParams, this._params, this._tmpParams, color, opacity.value));\n    }\n  };\n  /**\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype._particlesUpdate = function () {\n    var _this = this;\n    this._params.particles.array.forEach(function (particle, i) {\n      if (_this._params.particles.move.enable) {\n        var /** @type {?} */ms = _this._params.particles.move.speed / 2;\n        particle.x += particle.vx * ms;\n        particle.y += particle.vy * ms;\n      }\n      if (_this._params.particles.opacity.anim.enable) {\n        if (particle.opacity_status == true) {\n          if (particle.opacity >= _this._params.particles.opacity.value) particle.opacity_status = false;\n          particle.opacity += particle.vo;\n        } else {\n          if (particle.opacity <= _this._params.particles.opacity.anim.opacity_min) particle.opacity_status = true;\n          particle.opacity -= particle.vo;\n        }\n        if (particle.opacity < 0) particle.opacity = 0;\n      }\n      if (_this._params.particles.size.anim.enable) {\n        if (particle.size_status == true) {\n          if (particle.radius >= _this._params.particles.size.value) particle.size_status = false;\n          particle.radius += particle.vs;\n        } else {\n          if (particle.radius <= _this._params.particles.size.anim.size_min) particle.size_status = true;\n          particle.radius -= particle.vs;\n        }\n        if (particle.radius < 0) particle.radius = 0;\n      }\n      var /** @type {?} */new_pos;\n      if (_this._params.particles.move.out_mode == 'bounce') {\n        new_pos = {\n          x_left: particle.radius,\n          x_right: _this._canvasParams.width,\n          y_top: particle.radius,\n          y_bottom: _this._canvasParams.height\n        };\n      } else {\n        new_pos = {\n          x_left: -particle.radius,\n          x_right: _this._canvasParams.width + particle.radius,\n          y_top: -particle.radius,\n          y_bottom: _this._canvasParams.height + particle.radius\n        };\n      }\n      if (particle.x - particle.radius > _this._canvasParams.width) {\n        particle.x = new_pos.x_left;\n        particle.y = Math.random() * _this._canvasParams.height;\n      } else if (particle.x + particle.radius < 0) {\n        particle.x = new_pos.x_right;\n        particle.y = Math.random() * _this._canvasParams.height;\n      }\n      if (particle.y - particle.radius > _this._canvasParams.height) {\n        particle.y = new_pos.y_top;\n        particle.x = Math.random() * _this._canvasParams.width;\n      } else if (particle.y + particle.radius < 0) {\n        particle.y = new_pos.y_bottom;\n        particle.x = Math.random() * _this._canvasParams.width;\n      }\n      switch (_this._params.particles.move.out_mode) {\n        case 'bounce':\n          if (particle.x + particle.radius > _this._canvasParams.width) particle.vx = -particle.vx;else if (particle.x - particle.radius < 0) particle.vx = -particle.vx;\n          if (particle.y + particle.radius > _this._canvasParams.height) particle.vy = -particle.vy;else if (particle.y - particle.radius < 0) particle.vy = -particle.vy;\n          break;\n      }\n      if (isInArray('grab', _this._params.interactivity.events.onhover.mode)) {\n        _this._grabParticle(particle);\n      }\n      if (isInArray('bubble', _this._params.interactivity.events.onhover.mode) || isInArray('bubble', _this._params.interactivity.events.onclick.mode)) {\n        _this._bubbleParticle(particle);\n      }\n      if (isInArray('repulse', _this._params.interactivity.events.onhover.mode) || isInArray('repulse', _this._params.interactivity.events.onclick.mode)) {\n        _this._repulseParticle(particle);\n      }\n      if (_this._params.particles.line_linked.enable || _this._params.particles.move.attract.enable) {\n        for (var /** @type {?} */j = i + 1; j < _this._params.particles.array.length; j++) {\n          var /** @type {?} */link = _this._params.particles.array[j];\n          if (_this._params.particles.line_linked.enable) _this._interaction.linkParticles(particle, link, _this._params, _this._canvasParams);\n          if (_this._params.particles.move.attract.enable) _this._interaction.attractParticles(particle, link, _this._params);\n          if (_this._params.particles.move.bounce) _this._interaction.bounceParticles(particle, link);\n        }\n      }\n    });\n  };\n  /**\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype.particlesDraw = function () {\n    this._canvasParams.ctx.clearRect(0, 0, this._canvasParams.width, this._canvasParams.height);\n    this._particlesUpdate();\n    this._params.particles.array.forEach(function (particle) {\n      particle.draw();\n    });\n  };\n  /**\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype.particlesEmpty = function () {\n    this._params.particles.array = [];\n  };\n  /**\r\n   * @param {?} nb\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype.removeParticles = function (nb) {\n    this._params.particles.array.splice(0, nb);\n    if (!this._params.particles.move.enable) {\n      this.particlesDraw();\n    }\n  };\n  /**\r\n   * @param {?} nb\r\n   * @param {?=} pos\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype.pushParticles = function (nb, pos) {\n    this._tmpParams.pushing = true;\n    for (var /** @type {?} */i = 0; i < nb; i++) {\n      this._params.particles.array.push(new Particle$$1(this._canvasParams, this._params, this._tmpParams, this._params.particles.color, this._params.particles.opacity.value, {\n        x: pos ? pos.pos_x : Math.random() * this._canvasParams.width,\n        y: pos ? pos.pos_y : Math.random() * this._canvasParams.height\n      }));\n      if (i == nb - 1) {\n        if (!this._params.particles.move.enable) {\n          this.particlesDraw();\n        }\n        this._tmpParams.pushing = false;\n      }\n    }\n  };\n  /**\r\n   * @param {?} particle\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype._bubbleParticle = function (particle) {\n    var _this = this;\n    if (this._params.interactivity.events.onhover.enable && isInArray('bubble', this._params.interactivity.events.onhover.mode)) {\n      var /** @type {?} */dx_mouse = particle.x - this._params.interactivity.mouse.pos_x;\n      var /** @type {?} */dy_mouse = particle.y - this._params.interactivity.mouse.pos_y;\n      var /** @type {?} */dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n      var /** @type {?} */ratio = 1 - dist_mouse / this._params.interactivity.modes.bubble.distance;\n      var /** @type {?} */init = function () {\n        particle.opacity_bubble = particle.opacity;\n        particle.radius_bubble = particle.radius;\n      };\n      if (dist_mouse <= this._params.interactivity.modes.bubble.distance) {\n        if (ratio >= 0 && this._params.interactivity.status == 'mousemove') {\n          if (this._params.interactivity.modes.bubble.size != this._params.particles.size.value) {\n            if (this._params.interactivity.modes.bubble.size > this._params.particles.size.value) {\n              var /** @type {?} */size = particle.radius + this._params.interactivity.modes.bubble.size * ratio;\n              if (size >= 0) {\n                particle.radius_bubble = size;\n              }\n            } else {\n              var /** @type {?} */dif = particle.radius - this._params.interactivity.modes.bubble.size;\n              var /** @type {?} */size = particle.radius - dif * ratio;\n              if (size > 0) {\n                particle.radius_bubble = size;\n              } else {\n                particle.radius_bubble = 0;\n              }\n            }\n          }\n          if (this._params.interactivity.modes.bubble.opacity != this._params.particles.opacity.value) {\n            if (this._params.interactivity.modes.bubble.opacity > this._params.particles.opacity.value) {\n              var /** @type {?} */opacity = this._params.interactivity.modes.bubble.opacity * ratio;\n              if (opacity > particle.opacity && opacity <= this._params.interactivity.modes.bubble.opacity) {\n                particle.opacity_bubble = opacity;\n              }\n            } else {\n              var /** @type {?} */opacity = particle.opacity - (this._params.particles.opacity.value - this._params.interactivity.modes.bubble.opacity) * ratio;\n              if (opacity < particle.opacity && opacity >= this._params.interactivity.modes.bubble.opacity) {\n                particle.opacity_bubble = opacity;\n              }\n            }\n          }\n        }\n      } else {\n        init();\n      }\n      if (this._params.interactivity.status == 'mouseleave') {\n        init();\n      }\n    } else if (this._params.interactivity.events.onclick.enable && isInArray('bubble', this._params.interactivity.events.onclick.mode)) {\n      if (this._tmpParams.bubble_clicking) {\n        var /** @type {?} */dx_mouse = particle.x - this._params.interactivity.mouse.click_pos_x;\n        var /** @type {?} */dy_mouse = particle.y - this._params.interactivity.mouse.click_pos_y;\n        var /** @type {?} */dist_mouse_1 = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n        var /** @type {?} */time_spent_1 = (new Date().getTime() - this._params.interactivity.mouse.click_time) / 1000;\n        if (time_spent_1 > this._params.interactivity.modes.bubble.duration) {\n          this._tmpParams.bubble_duration_end = true;\n        }\n        if (time_spent_1 > this._params.interactivity.modes.bubble.duration * 2) {\n          this._tmpParams.bubble_clicking = false;\n          this._tmpParams.bubble_duration_end = false;\n        }\n        var /** @type {?} */process = function (bubble_param, particles_param, p_obj_bubble, p_obj, id) {\n          if (bubble_param != particles_param) {\n            if (!_this._tmpParams.bubble_duration_end) {\n              if (dist_mouse_1 <= _this._params.interactivity.modes.bubble.distance) {\n                var /** @type {?} */obj = void 0;\n                if (p_obj_bubble != undefined) {\n                  obj = p_obj_bubble;\n                } else {\n                  obj = p_obj;\n                }\n                if (obj != bubble_param) {\n                  var /** @type {?} */value = p_obj - time_spent_1 * (p_obj - bubble_param) / _this._params.interactivity.modes.bubble.duration;\n                  if (id == 'size') particle.radius_bubble = value;\n                  if (id == 'opacity') particle.opacity_bubble = value;\n                }\n              } else {\n                if (id == 'size') particle.radius_bubble = undefined;\n                if (id == 'opacity') particle.opacity_bubble = undefined;\n              }\n            } else {\n              if (p_obj_bubble != undefined) {\n                var /** @type {?} */value_tmp = p_obj - time_spent_1 * (p_obj - bubble_param) / _this._params.interactivity.modes.bubble.duration;\n                var /** @type {?} */dif = bubble_param - value_tmp;\n                var /** @type {?} */value = bubble_param + dif;\n                if (id == 'size') particle.radius_bubble = value;\n                if (id == 'opacity') particle.opacity_bubble = value;\n              }\n            }\n          }\n        };\n        if (this._tmpParams.bubble_clicking) {\n          process(this._params.interactivity.modes.bubble.size, this._params.particles.size.value, particle.radius_bubble, particle.radius, 'size');\n          process(this._params.interactivity.modes.bubble.opacity, this._params.particles.opacity.value, particle.opacity_bubble, particle.opacity, 'opacity');\n        }\n      }\n    }\n  };\n  /**\r\n   * @param {?} particle\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype._repulseParticle = function (particle) {\n    var _this = this;\n    if (this._params.interactivity.events.onhover.enable && isInArray('repulse', this._params.interactivity.events.onhover.mode) && this._params.interactivity.status == 'mousemove') {\n      var /** @type {?} */dx_mouse = particle.x - this._params.interactivity.mouse.pos_x;\n      var /** @type {?} */dy_mouse = particle.y - this._params.interactivity.mouse.pos_y;\n      var /** @type {?} */dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n      var /** @type {?} */normVec = {\n        x: dx_mouse / dist_mouse,\n        y: dy_mouse / dist_mouse\n      };\n      var /** @type {?} */repulseRadius = this._params.interactivity.modes.repulse.distance;\n      var /** @type {?} */velocity = 100;\n      var /** @type {?} */repulseFactor = clamp(1 / repulseRadius * (-1 * Math.pow(dist_mouse / repulseRadius, 2) + 1) * repulseRadius * velocity, 0, 50);\n      var /** @type {?} */pos = {\n        x: particle.x + normVec.x * repulseFactor,\n        y: particle.y + normVec.y * repulseFactor\n      };\n      if (this._params.particles.move.out_mode == 'bounce') {\n        if (pos.x - particle.radius > 0 && pos.x + particle.radius < this._canvasParams.width) particle.x = pos.x;\n        if (pos.y - particle.radius > 0 && pos.y + particle.radius < this._canvasParams.height) particle.y = pos.y;\n      } else {\n        particle.x = pos.x;\n        particle.y = pos.y;\n      }\n    } else if (this._params.interactivity.events.onclick.enable && isInArray('repulse', this._params.interactivity.events.onclick.mode)) {\n      if (!this._tmpParams.repulse_finish) {\n        this._tmpParams.repulse_count++;\n        if (this._tmpParams.repulse_count == this._params.particles.array.length) this._tmpParams.repulse_finish = true;\n      }\n      if (this._tmpParams.repulse_clicking) {\n        var /** @type {?} */repulseRadius = Math.pow(this._params.interactivity.modes.repulse.distance / 6, 3);\n        var /** @type {?} */dx_1 = this._params.interactivity.mouse.click_pos_x - particle.x;\n        var /** @type {?} */dy_1 = this._params.interactivity.mouse.click_pos_y - particle.y;\n        var /** @type {?} */d = dx_1 * dx_1 + dy_1 * dy_1;\n        var /** @type {?} */force_1 = -repulseRadius / d * 1;\n        var /** @type {?} */process = function () {\n          var /** @type {?} */f = Math.atan2(dy_1, dx_1);\n          particle.vx = force_1 * Math.cos(f);\n          particle.vy = force_1 * Math.sin(f);\n          if (_this._params.particles.move.out_mode == 'bounce') {\n            var /** @type {?} */pos = {\n              x: particle.x + particle.vx,\n              y: particle.y + particle.vy\n            };\n            if (pos.x + particle.radius > _this._canvasParams.width) particle.vx = -particle.vx;else if (pos.x - particle.radius < 0) particle.vx = -particle.vx;\n            if (pos.y + particle.radius > _this._canvasParams.height) particle.vy = -particle.vy;else if (pos.y - particle.radius < 0) particle.vy = -particle.vy;\n          }\n        };\n        if (d <= repulseRadius) {\n          process();\n        }\n      } else {\n        if (this._tmpParams.repulse_clicking == false) {\n          particle.vx = particle.vx_i;\n          particle.vy = particle.vy_i;\n        }\n      }\n    }\n  };\n  /**\r\n   * @param {?} particle\r\n   * @return {?}\r\n   */\n  ParticlesManager$$1.prototype._grabParticle = function (particle) {\n    var _a = this._params,\n      interactivity = _a.interactivity,\n      particles = _a.particles;\n    if (interactivity.events.onhover.enable && interactivity.status == 'mousemove') {\n      var /** @type {?} */dx_mouse = particle.x - interactivity.mouse.pos_x;\n      var /** @type {?} */dy_mouse = particle.y - interactivity.mouse.pos_y;\n      var /** @type {?} */dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\n      if (dist_mouse <= interactivity.modes.grab.distance) {\n        var grab = interactivity.modes.grab;\n        var /** @type {?} */opacity_line = grab.line_linked.opacity - dist_mouse / (1 / grab.line_linked.opacity) / grab.distance;\n        if (opacity_line > 0) {\n          var /** @type {?} */color_line = particles.line_linked.color_rgb_line;\n          var r = color_line.r,\n            g = color_line.g,\n            b = color_line.b;\n          this._canvasParams.ctx.strokeStyle = \"rgba( \" + r + \", \" + g + \", \" + b + \", \" + opacity_line + \" )\";\n          this._canvasParams.ctx.lineWidth = particles.line_linked.width;\n          this._canvasParams.ctx.beginPath();\n          this._canvasParams.ctx.moveTo(particle.x, particle.y);\n          this._canvasParams.ctx.lineTo(interactivity.mouse.pos_x, interactivity.mouse.pos_y);\n          this._canvasParams.ctx.stroke();\n          this._canvasParams.ctx.closePath();\n        }\n      }\n    }\n  };\n  return ParticlesManager$$1;\n}();\nvar Particle$$1 = function () {\n  /**\r\n   * @param {?} _canvasParams\r\n   * @param {?} _params\r\n   * @param {?} _tmpParams\r\n   * @param {?=} color\r\n   * @param {?=} opacity\r\n   * @param {?=} position\r\n   */\n  function Particle$$1(_canvasParams, _params, _tmpParams, color, opacity, position) {\n    this._canvasParams = _canvasParams;\n    this._params = _params;\n    this._tmpParams = _tmpParams;\n    this._setupSize();\n    this._setupPosition(position);\n    this._setupColor(color);\n    this._setupOpacity();\n    this._setupAnimation();\n  }\n  /**\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._setupSize = function () {\n    this.radius = (this._params.particles.size.random ? Math.random() : 1) * this._params.particles.size.value;\n    if (this._params.particles.size.anim.enable) {\n      this.size_status = false;\n      this.vs = this._params.particles.size.anim.speed / 100;\n      if (!this._params.particles.size.anim.sync) this.vs = this.vs * Math.random();\n    }\n  };\n  /**\r\n   * @param {?=} position\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._setupPosition = function (position) {\n    this.x = position ? position.x : Math.random() * this._canvasParams.width;\n    this.y = position ? position.y : Math.random() * this._canvasParams.height;\n    if (this.x > this._canvasParams.width - this.radius * 2) {\n      this.x = this.x - this.radius;\n    } else if (this.x < this.radius * 2) {\n      this.x = this.x + this.radius;\n    }\n    if (this.y > this._canvasParams.height - this.radius * 2) {\n      this.y = this.y - this.radius;\n    } else if (this.y < this.radius * 2) {\n      this.y = this.y + this.radius;\n    }\n    if (this._params.particles.move.bounce) {\n      this._checkOverlap(this, position);\n    }\n  };\n  /**\r\n   * @param {?} p1\r\n   * @param {?=} position\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._checkOverlap = function (p1, position) {\n    var _this = this;\n    var particles = this._params.particles;\n    particles.array.forEach(function (particle) {\n      var /** @type {?} */p2 = particle;\n      var /** @type {?} */dx = p1.x - p2.x;\n      var /** @type {?} */dy = p1.y - p2.y;\n      var /** @type {?} */dist = Math.sqrt(dx * dx + dy * dy);\n      if (dist <= p1.radius + p2.radius) {\n        p1.x = position ? position.x : Math.random() * _this._canvasParams.width;\n        p1.y = position ? position.y : Math.random() * _this._canvasParams.height;\n        _this._checkOverlap(p1);\n      }\n    });\n  };\n  /**\r\n   * @param {?=} color\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._setupColor = function (color) {\n    this.color = getColor(color.value);\n  };\n  /**\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._setupOpacity = function () {\n    this.opacity = (this._params.particles.opacity.random ? Math.random() : 1) * this._params.particles.opacity.value;\n    if (this._params.particles.opacity.anim.enable) {\n      this.opacity_status = false;\n      this.vo = this._params.particles.opacity.anim.speed / 100;\n      if (!this._params.particles.opacity.anim.sync) {\n        this.vo = this.vo * Math.random();\n      }\n    }\n  };\n  /**\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._setupAnimation = function () {\n    var /** @type {?} */velbase = null;\n    switch (this._params.particles.move.direction) {\n      case 'top':\n        velbase = {\n          x: 0,\n          y: -1\n        };\n        break;\n      case 'top-right':\n        velbase = {\n          x: 0.5,\n          y: -0.5\n        };\n        break;\n      case 'right':\n        velbase = {\n          x: 1,\n          y: 0\n        };\n        break;\n      case 'bottom-right':\n        velbase = {\n          x: 0.5,\n          y: 0.5\n        };\n        break;\n      case 'bottom':\n        velbase = {\n          x: 0,\n          y: 1\n        };\n        break;\n      case 'bottom-left':\n        velbase = {\n          x: -0.5,\n          y: 1\n        };\n        break;\n      case 'left':\n        velbase = {\n          x: -1,\n          y: 0\n        };\n        break;\n      case 'top-left':\n        velbase = {\n          x: -0.5,\n          y: -0.5\n        };\n        break;\n      default:\n        velbase = {\n          x: 0,\n          y: 0\n        };\n        break;\n    }\n    if (this._params.particles.move.straight) {\n      this.vx = velbase.x;\n      this.vy = velbase.y;\n      if (this._params.particles.move.random) {\n        this.vx = this.vx * Math.random();\n        this.vy = this.vy * Math.random();\n      }\n    } else {\n      this.vx = velbase.x + Math.random() - 0.5;\n      this.vy = velbase.y + Math.random() - 0.5;\n    }\n    this.vx_i = this.vx;\n    this.vy_i = this.vy;\n    var /** @type {?} */shape_type = this._params.particles.shape.type;\n    if (typeof shape_type == 'object') {\n      if (shape_type instanceof Array) {\n        var /** @type {?} */shape_selected = shape_type[Math.floor(Math.random() * shape_type.length)];\n        this.shape = shape_selected;\n      }\n    } else {\n      this.shape = shape_type;\n    }\n    if (this.shape == 'image') {\n      var /** @type {?} */sh = this._params.particles.shape;\n      this.img = {\n        src: sh.image.src,\n        ratio: sh.image.width / sh.image.height\n      };\n      if (!this.img.ratio) this.img.ratio = 1;\n      if (this._tmpParams.img_type == 'svg' && this._tmpParams.source_svg != undefined) {\n        createSvgImg(this, this._tmpParams);\n        if (this._tmpParams.pushing) {\n          this.img.loaded = false;\n        }\n      }\n    }\n  };\n  /**\r\n   * @param {?} c\r\n   * @param {?} startX\r\n   * @param {?} startY\r\n   * @param {?} sideLength\r\n   * @param {?} sideCountNumerator\r\n   * @param {?} sideCountDenominator\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype._drawShape = function (c, startX, startY, sideLength, sideCountNumerator, sideCountDenominator) {\n    var /** @type {?} */sideCount = sideCountNumerator * sideCountDenominator;\n    var /** @type {?} */decimalSides = sideCountNumerator / sideCountDenominator;\n    var /** @type {?} */interiorAngleDegrees = 180 * (decimalSides - 2) / decimalSides;\n    var /** @type {?} */interiorAngle = Math.PI - Math.PI * interiorAngleDegrees / 180;\n    c.save();\n    c.beginPath();\n    c.translate(startX, startY);\n    c.moveTo(0, 0);\n    for (var /** @type {?} */i = 0; i < sideCount; i++) {\n      c.lineTo(sideLength, 0);\n      c.translate(sideLength, 0);\n      c.rotate(interiorAngle);\n    }\n    c.fill();\n    c.restore();\n  };\n  /**\r\n   * @return {?}\r\n   */\n  Particle$$1.prototype.draw = function () {\n    var _this = this;\n    var particles = this._params.particles;\n    var /** @type {?} */radius;\n    if (this.radius_bubble != undefined) {\n      radius = this.radius_bubble;\n    } else {\n      radius = this.radius;\n    }\n    var /** @type {?} */opacity;\n    if (this.opacity_bubble != undefined) {\n      opacity = this.opacity_bubble;\n    } else {\n      opacity = this.opacity;\n    }\n    var /** @type {?} */color_value;\n    if (this.color.rgb) {\n      var _a = this.color.rgb,\n        r = _a.r,\n        g = _a.g,\n        b = _a.b;\n      color_value = \"rgba( \" + r + \", \" + g + \", \" + b + \", \" + opacity + \" )\";\n    } else {\n      var _b = this.color.hsl,\n        h = _b.h,\n        s = _b.s,\n        l = _b.l;\n      color_value = \"hsla( \" + h + \", \" + s + \", \" + l + \", \" + opacity + \" )\";\n    }\n    this._canvasParams.ctx.fillStyle = color_value;\n    this._canvasParams.ctx.beginPath();\n    switch (this.shape) {\n      case 'circle':\n        this._canvasParams.ctx.arc(this.x, this.y, radius, 0, Math.PI * 2, false);\n        break;\n      case 'edge':\n        this._canvasParams.ctx.rect(this.x - radius, this.y - radius, radius * 2, radius * 2);\n        break;\n      case 'triangle':\n        this._drawShape(this._canvasParams.ctx, this.x - radius, this.y + radius / 1.66, radius * 2, 3, 2);\n        break;\n      case 'polygon':\n        this._drawShape(this._canvasParams.ctx, this.x - radius / (this._params.particles.shape.polygon.nb_sides / 3.5), this.y - radius / (2.66 / 3.5), radius * 2.66 / (this._params.particles.shape.polygon.nb_sides / 3), this._params.particles.shape.polygon.nb_sides, 1);\n        break;\n      case 'star':\n        this._drawShape(this._canvasParams.ctx, this.x - radius * 2 / (this._params.particles.shape.polygon.nb_sides / 4), this.y - radius / (2 * 2.66 / 3.5), radius * 2 * 2.66 / (this._params.particles.shape.polygon.nb_sides / 3), this._params.particles.shape.polygon.nb_sides, 2);\n        break;\n      case 'image':\n        var /** @type {?} */draw = function (img_obj) {\n          _this._canvasParams.ctx.drawImage(img_obj, _this.x - radius, _this.y - radius, radius * 2, radius * 2 / _this.img.ratio);\n        };\n        var /** @type {?} */img_obj = void 0;\n        if (this._tmpParams.img_type == 'svg') {\n          img_obj = this.img.obj;\n        } else {\n          img_obj = this._tmpParams.img_obj;\n        }\n        if (img_obj) draw(img_obj);\n        break;\n    }\n    this._canvasParams.ctx.closePath();\n    if (this._params.particles.shape.stroke.width > 0) {\n      this._canvasParams.ctx.strokeStyle = this._params.particles.shape.stroke.color;\n      this._canvasParams.ctx.lineWidth = this._params.particles.shape.stroke.width;\n      this._canvasParams.ctx.stroke();\n    }\n    this._canvasParams.ctx.fill();\n  };\n  return Particle$$1;\n}();\nvar ParticleInteraction = function () {\n  function ParticleInteraction() {}\n  /**\r\n   * @param {?} p1\r\n   * @param {?} p2\r\n   * @param {?} params\r\n   * @param {?} canvasParams\r\n   * @return {?}\r\n   */\n  ParticleInteraction.prototype.linkParticles = function (p1, p2, params, canvasParams) {\n    var /** @type {?} */dx = p1.x - p2.x;\n    var /** @type {?} */dy = p1.y - p2.y;\n    var /** @type {?} */dist = Math.sqrt(dx * dx + dy * dy);\n    var line_linked = params.particles.line_linked;\n    if (dist <= params.particles.line_linked.distance) {\n      var /** @type {?} */opacity_line = params.particles.line_linked.opacity - dist / (1 / params.particles.line_linked.opacity) / params.particles.line_linked.distance;\n      if (opacity_line > 0) {\n        var /** @type {?} */color_line = params.particles.line_linked.color_rgb_line;\n        var r = color_line.r,\n          g = color_line.g,\n          b = color_line.b;\n        canvasParams.ctx.save();\n        canvasParams.ctx.strokeStyle = \"rgba( \" + r + \", \" + g + \", \" + b + \", \" + opacity_line + \" )\";\n        canvasParams.ctx.lineWidth = params.particles.line_linked.width;\n        canvasParams.ctx.beginPath();\n        if (line_linked.shadow.enable) {\n          canvasParams.ctx.shadowBlur = line_linked.shadow.blur;\n          canvasParams.ctx.shadowColor = line_linked.shadow.color;\n        }\n        canvasParams.ctx.moveTo(p1.x, p1.y);\n        canvasParams.ctx.lineTo(p2.x, p2.y);\n        canvasParams.ctx.stroke();\n        canvasParams.ctx.closePath();\n        canvasParams.ctx.restore();\n      }\n    }\n  };\n  /**\r\n   * @param {?} p1\r\n   * @param {?} p2\r\n   * @param {?} params\r\n   * @return {?}\r\n   */\n  ParticleInteraction.prototype.attractParticles = function (p1, p2, params) {\n    var /** @type {?} */dx = p1.x - p2.x;\n    var /** @type {?} */dy = p1.y - p2.y;\n    var /** @type {?} */dist = Math.sqrt(dx * dx + dy * dy);\n    if (dist <= params.particles.line_linked.distance) {\n      var /** @type {?} */ax = dx / (params.particles.move.attract.rotateX * 1000);\n      var /** @type {?} */ay = dy / (params.particles.move.attract.rotateY * 1000);\n      p1.vx -= ax;\n      p1.vy -= ay;\n      p2.vx += ax;\n      p2.vy += ay;\n    }\n  };\n  /**\r\n   * @param {?} p1\r\n   * @param {?} p2\r\n   * @return {?}\r\n   */\n  ParticleInteraction.prototype.bounceParticles = function (p1, p2) {\n    var /** @type {?} */dx = p1.x - p2.x;\n    var /** @type {?} */dy = p1.y - p2.y;\n    var /** @type {?} */dist = Math.sqrt(dx * dx + dy * dy);\n    var /** @type {?} */dist_p = p1.radius + p2.radius;\n    if (dist <= dist_p) {\n      p1.vx = -p1.vx;\n      p1.vy = -p1.vy;\n      p2.vx = -p2.vx;\n      p2.vy = -p2.vy;\n    }\n  };\n  return ParticleInteraction;\n}();\nvar ParticlesDirective = function () {\n  /**\r\n   * @param {?} el\r\n   */\n  function ParticlesDirective(el) {\n    this.el = el;\n    this._tmpParams = {};\n  }\n  Object.defineProperty(ParticlesDirective.prototype, \"params\", {\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\n    set: function (value) {\n      var /** @type {?} */defaultParams = getDefaultParams();\n      this._params = deepExtend(defaultParams, value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * @return {?}\r\n   */\n  ParticlesDirective.prototype.ngAfterViewInit = function () {\n    this._canvasParams = {\n      el: this.el.nativeElement,\n      ctx: this.el.nativeElement.getContext('2d'),\n      width: this.el.nativeElement.offsetWidth,\n      height: this.el.nativeElement.offsetHeight\n    };\n    this._tmpParams.obj = {\n      size_value: this._params.particles.size.value,\n      size_anim_speed: this._params.particles.size.anim.speed,\n      move_speed: this._params.particles.move.speed,\n      line_linked_distance: this._params.particles.line_linked.distance,\n      line_linked_width: this._params.particles.line_linked.width,\n      mode_grab_distance: this._params.interactivity.modes.grab.distance,\n      mode_bubble_distance: this._params.interactivity.modes.bubble.distance,\n      mode_bubble_size: this._params.interactivity.modes.bubble.size,\n      mode_repulse_distance: this._params.interactivity.modes.repulse.distance\n    };\n    this._params.interactivity.el = this._params.interactivity.detect_on == 'window' ? window : this._canvasParams.el;\n    if (isInArray('image', this._params.particles.shape.type)) {\n      this._tmpParams.img_type = this._params.particles.shape.image.src.substr(this._params.particles.shape.image.src.length - 3);\n      loadImg(this._params, this._tmpParams);\n    }\n    this._canvasManager = new CanvasManager$$1(this._canvasParams, this._params, this._tmpParams);\n    this._canvasManager.draw();\n  };\n  /**\r\n   * Mouse move event\r\n  \\@param event\r\n   * @param {?} event\r\n   * @return {?}\r\n   */\n  ParticlesDirective.prototype.onMouseMove = function (event) {\n    var interactivity = this._params.interactivity;\n    if (interactivity.events.onhover.enable || interactivity.events.onclick.enable) {\n      var /** @type {?} */pos = void 0;\n      if (interactivity.el == window) {\n        pos = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      } else {\n        pos = {\n          x: event.offsetX || event.clientX,\n          y: event.offsetY || event.clientY\n        };\n      }\n      interactivity.mouse.pos_x = pos.x;\n      interactivity.mouse.pos_y = pos.y;\n      if (this._tmpParams.retina) {\n        interactivity.mouse.pos_x *= this._canvasParams.pxratio;\n        interactivity.mouse.pos_y *= this._canvasParams.pxratio;\n      }\n      interactivity.status = 'mousemove';\n    }\n  };\n  /**\r\n   * Mouse leave event\r\n   * @return {?}\r\n   */\n  ParticlesDirective.prototype.onMouseLeave = function () {\n    var interactivity = this._params.interactivity;\n    if (interactivity.events.onhover.enable || interactivity.events.onclick.enable) {\n      interactivity.mouse.pos_x = null;\n      interactivity.mouse.pos_y = null;\n      interactivity.status = 'mouseleave';\n    }\n  };\n  /**\r\n   * Click event\r\n   * @return {?}\r\n   */\n  ParticlesDirective.prototype.onClick = function () {\n    var _this = this;\n    var _a = this._params,\n      interactivity = _a.interactivity,\n      particles = _a.particles;\n    if (interactivity.events.onclick.enable) {\n      interactivity.mouse.click_pos_x = interactivity.mouse.pos_x;\n      interactivity.mouse.click_pos_y = interactivity.mouse.pos_y;\n      interactivity.mouse.click_time = new Date().getTime();\n      switch (interactivity.events.onclick.mode) {\n        case 'push':\n          if (particles.move.enable) {\n            this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb, interactivity.mouse);\n          } else {\n            if (interactivity.modes.push.particles_nb == 1) {\n              this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb, interactivity.mouse);\n            } else if (interactivity.modes.push.particles_nb > 1) {\n              this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb);\n            }\n          }\n          break;\n        case 'remove':\n          this._canvasManager.particlesManager.removeParticles(interactivity.modes.remove.particles_nb);\n          break;\n        case 'bubble':\n          this._tmpParams.bubble_clicking = true;\n          break;\n        case 'repulse':\n          this._tmpParams.repulse_clicking = true;\n          this._tmpParams.repulse_count = 0;\n          this._tmpParams.repulse_finish = false;\n          setTimeout(function () {\n            _this._tmpParams.repulse_clicking = false;\n          }, interactivity.modes.repulse.duration * 1000);\n          break;\n      }\n    }\n  };\n  return ParticlesDirective;\n}();\nParticlesDirective.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[d-particles]'\n  }]\n}];\n/**\r\n * @nocollapse\r\n */\nParticlesDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }];\n};\nParticlesDirective.propDecorators = {\n  'params': [{\n    type: Input\n  }],\n  'onMouseMove': [{\n    type: HostListener,\n    args: ['mousemove', ['$event']]\n  }],\n  'onMouseLeave': [{\n    type: HostListener,\n    args: ['mouseleave']\n  }],\n  'onClick': [{\n    type: HostListener,\n    args: ['click']\n  }]\n};\nvar ParticlesModule = function () {\n  function ParticlesModule() {}\n  return ParticlesModule;\n}();\nParticlesModule.decorators = [{\n  type: NgModule,\n  args: [{\n    imports: [CommonModule],\n    declarations: [ParticlesComponent, ParticlesDirective],\n    exports: [ParticlesComponent, ParticlesDirective]\n  }]\n}];\n/**\r\n * @nocollapse\r\n */\nParticlesModule.ctorParameters = function () {\n  return [];\n};\nexport { ParticlesModule, ParticlesComponent, ParticlesDirective };","map":{"version":3,"names":["Component","Directive","ElementRef","HostListener","Input","NgModule","CommonModule","ParticlesComponent","width","height","style","decorators","type","args","selector","template","ctorParameters","propDecorators","hexToRgb","hex","shorthandRegex","replace","m","r","g","b","result","exec","parseInt","clamp","number","min","max","Math","isInArray","value","array","indexOf","deepExtend","destination","source","property","constructor","Object","getColor","colorObject","color","Array","selectedColor","floor","random","length","rgb","undefined","h","s","l","hsl","getDefaultParams","particles","density","enable","value_area","shape","stroke","polygon","nb_sides","image","src","opacity","anim","speed","opacity_min","sync","size","size_min","line_linked","distance","shadow","blur","move","direction","straight","out_mode","bounce","attract","rotateX","rotateY","interactivity","detect_on","events","onhover","mode","onclick","resize","modes","grab","bubble","duration","repulse","push","particles_nb","remove","mouse","retina_detect","loadImg","params","tmp","img_error","img_type","xhr_1","XMLHttpRequest","open","onreadystatechange","data","readyState","status","source_svg","currentTarget","response","check","checkAnimFrame","requestAnimationFrame","send","img_1","Image","addEventListener","img_obj","cancelAnimationFrame","createSvgImg","particle","svgXml","rgbHex","coloredSvgXml","color_value","_a","r_1","g_1","b_1","_b","svg","Blob","DOMURL","window","URL","url","createObjectURL","img","obj","loaded","revokeObjectURL","count_svg","CanvasManager$$1","_canvasParams","_params","_tmpParams","_onWindowResize","bind","_retinaInit","_canvasSize","particlesManager","ParticlesManager$$1","particlesCreate","_densityAutoParticles","color_rgb_line","prototype","draw","particlesDraw","drawAnimFrame","area","el","retina","pxratio","nb_particles","missing_particles","pushParticles","abs","removeParticles","devicePixelRatio","offsetWidth","offsetHeight","size_value","size_anim_speed","move_speed","line_linked_distance","mode_grab_distance","mode_bubble_distance","line_linked_width","mode_bubble_size","mode_repulse_distance","_canvasClear","ctx","clearRect","_canvasPaint","fillRect","particlesEmpty","_interaction","ParticleInteraction","i","Particle$$1","_particlesUpdate","_this","forEach","ms","x","vx","y","vy","opacity_status","vo","size_status","radius","vs","new_pos","x_left","x_right","y_top","y_bottom","_grabParticle","_bubbleParticle","_repulseParticle","j","link","linkParticles","attractParticles","bounceParticles","nb","splice","pos","pushing","pos_x","pos_y","dx_mouse","dy_mouse","dist_mouse","sqrt","ratio","init","opacity_bubble","radius_bubble","dif","bubble_clicking","click_pos_x","click_pos_y","dist_mouse_1","time_spent_1","Date","getTime","click_time","bubble_duration_end","process","bubble_param","particles_param","p_obj_bubble","p_obj","id","value_tmp","normVec","repulseRadius","velocity","repulseFactor","pow","repulse_finish","repulse_count","repulse_clicking","dx_1","dy_1","d","force_1","f","atan2","cos","sin","vx_i","vy_i","opacity_line","color_line","strokeStyle","lineWidth","beginPath","moveTo","lineTo","closePath","position","_setupSize","_setupPosition","_setupColor","_setupOpacity","_setupAnimation","_checkOverlap","p1","p2","dx","dy","dist","velbase","shape_type","shape_selected","sh","_drawShape","c","startX","startY","sideLength","sideCountNumerator","sideCountDenominator","sideCount","decimalSides","interiorAngleDegrees","interiorAngle","PI","save","translate","rotate","fill","restore","fillStyle","arc","rect","drawImage","canvasParams","shadowBlur","shadowColor","ax","ay","dist_p","ParticlesDirective","defineProperty","set","defaultParams","enumerable","configurable","ngAfterViewInit","nativeElement","getContext","substr","_canvasManager","onMouseMove","event","clientX","clientY","offsetX","offsetY","onMouseLeave","onClick","setTimeout","ParticlesModule","imports","declarations","exports"],"sources":["C:/Users/greto/Documents/School/my-portfolio/node_modules/angular-particle/index.js"],"sourcesContent":["import { Component, Directive, ElementRef, HostListener, Input, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nvar ParticlesComponent = (function () {\r\n    function ParticlesComponent() {\r\n        this.width = 100;\r\n        this.height = 100;\r\n        this.style = {};\r\n    }\r\n    return ParticlesComponent;\r\n}());\r\nParticlesComponent.decorators = [\r\n    { type: Component, args: [{\r\n                selector: 'particles',\r\n                template: \"\\n        <div [ngStyle]=\\\"style\\\" class=\\\"particles-container\\\">\\n            <canvas d-particles [params]=\\\"params\\\" [style.width.%]=\\\"width\\\" [style.height.%]=\\\"height\\\"></canvas>\\n        </div>\\n    \"\r\n            },] },\r\n];\r\n/**\r\n * @nocollapse\r\n */\r\nParticlesComponent.ctorParameters = function () { return []; };\r\nParticlesComponent.propDecorators = {\r\n    'width': [{ type: Input },],\r\n    'height': [{ type: Input },],\r\n    'params': [{ type: Input },],\r\n    'style': [{ type: Input },],\r\n};\n\nvar hexToRgb = function (hex) {\r\n    var /** @type {?} */ shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n        return r + r + g + g + b + b;\r\n    });\r\n    var /** @type {?} */ result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n    } : null;\r\n};\r\nvar clamp = function (number, min, max) {\r\n    return Math.min(Math.max(number, min), max);\r\n};\r\nvar isInArray = function (value, array) {\r\n    return array.indexOf(value) > -1;\r\n};\r\nvar deepExtend = function (destination, source) {\r\n    for (var /** @type {?} */ property in source) {\r\n        if (source[property] &&\r\n            source[property].constructor &&\r\n            source[property].constructor === Object) {\r\n            destination[property] = destination[property] || {};\r\n            deepExtend(destination[property], source[property]);\r\n        }\r\n        else {\r\n            destination[property] = source[property];\r\n        }\r\n    }\r\n    return destination;\r\n};\r\nvar getColor = function (colorObject) {\r\n    var /** @type {?} */ color = {};\r\n    if (typeof (colorObject) == 'object') {\r\n        if (colorObject instanceof Array) {\r\n            var /** @type {?} */ selectedColor = colorObject[Math.floor(Math.random() * colorObject.length)];\r\n            color.rgb = hexToRgb(selectedColor);\r\n        }\r\n        else {\r\n            var r = colorObject.r, g = colorObject.g, b = colorObject.b;\r\n            if (r !== undefined && g !== undefined && b !== undefined) {\r\n                color.rgb = { r: r, g: g, b: b };\r\n            }\r\n            else {\r\n                var h = colorObject.h, s = colorObject.s, l = colorObject.l;\r\n                if (h !== undefined && g !== undefined && b !== undefined) {\r\n                    color.hsl = { h: h, s: s, l: l };\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (colorObject == 'random') {\r\n        color.rgb = {\r\n            r: (Math.floor(Math.random() * 255) + 1),\r\n            g: (Math.floor(Math.random() * 255) + 1),\r\n            b: (Math.floor(Math.random() * 255) + 1)\r\n        };\r\n    }\r\n    else if (typeof (colorObject) == 'string') {\r\n        color.rgb = hexToRgb(colorObject);\r\n    }\r\n    return color;\r\n};\r\nvar getDefaultParams = function () {\r\n    return {\r\n        particles: {\r\n            number: {\r\n                value: 100,\r\n                density: {\r\n                    enable: true,\r\n                    value_area: 800\r\n                }\r\n            },\r\n            color: {\r\n                value: '#FFF'\r\n            },\r\n            shape: {\r\n                type: 'circle',\r\n                stroke: {\r\n                    width: 0,\r\n                    color: '#000000'\r\n                },\r\n                polygon: {\r\n                    nb_sides: 5\r\n                },\r\n                image: {\r\n                    src: '',\r\n                    width: 100,\r\n                    height: 100\r\n                }\r\n            },\r\n            opacity: {\r\n                value: 0.5,\r\n                random: false,\r\n                anim: {\r\n                    enable: true,\r\n                    speed: 1,\r\n                    opacity_min: 0.1,\r\n                    sync: false\r\n                }\r\n            },\r\n            size: {\r\n                value: 3,\r\n                random: true,\r\n                anim: {\r\n                    enable: false,\r\n                    speed: 40,\r\n                    size_min: 0,\r\n                    sync: false\r\n                }\r\n            },\r\n            line_linked: {\r\n                enable: true,\r\n                distance: 150,\r\n                color: '#FFF',\r\n                opacity: 0.6,\r\n                width: 1,\r\n                shadow: {\r\n                    enable: false,\r\n                    blur: 5,\r\n                    color: 'lime'\r\n                }\r\n            },\r\n            move: {\r\n                enable: true,\r\n                speed: 3,\r\n                direction: 'none',\r\n                random: false,\r\n                straight: false,\r\n                out_mode: 'out',\r\n                bounce: true,\r\n                attract: {\r\n                    enable: false,\r\n                    rotateX: 3000,\r\n                    rotateY: 3000\r\n                }\r\n            },\r\n            array: []\r\n        },\r\n        interactivity: {\r\n            detect_on: 'canvas',\r\n            events: {\r\n                onhover: {\r\n                    enable: true,\r\n                    mode: 'grab'\r\n                },\r\n                onclick: {\r\n                    enable: true,\r\n                    mode: 'push'\r\n                },\r\n                resize: true\r\n            },\r\n            modes: {\r\n                grab: {\r\n                    distance: 200,\r\n                    line_linked: {\r\n                        opacity: 1\r\n                    }\r\n                },\r\n                bubble: {\r\n                    distance: 200,\r\n                    size: 80,\r\n                    duration: 0.4\r\n                },\r\n                repulse: {\r\n                    distance: 200,\r\n                    duration: 0.4\r\n                },\r\n                push: {\r\n                    particles_nb: 4\r\n                },\r\n                remove: {\r\n                    particles_nb: 2\r\n                }\r\n            },\r\n            mouse: {}\r\n        },\r\n        retina_detect: true\r\n    };\r\n};\r\n/**\r\n * @param {?} params\r\n * @param {?} tmp\r\n * @return {?}\r\n */\r\nfunction loadImg(params, tmp) {\r\n    var particles = this.params.particles;\r\n    tmp.img_error = undefined;\r\n    if (particles.shape.type == 'image' && particles.shape.image.src != '') {\r\n        if (tmp.img_type == 'svg') {\r\n            var /** @type {?} */ xhr_1 = new XMLHttpRequest();\r\n            xhr_1.open('GET', particles.shape.image.src);\r\n            xhr_1.onreadystatechange = function (data) {\r\n                if (xhr_1.readyState == 4) {\r\n                    if (xhr_1.status == 200) {\r\n                        tmp.source_svg = data.currentTarget.response;\r\n                        if (tmp.source_svg == undefined) {\r\n                            var /** @type {?} */ check = void 0;\r\n                            tmp.checkAnimFrame = requestAnimationFrame(check);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tmp.img_error = true;\r\n                        throw \"Error : image not found\";\r\n                    }\r\n                }\r\n            };\r\n            xhr_1.send();\r\n        }\r\n        else {\r\n            var /** @type {?} */ img_1 = new Image();\r\n            img_1.addEventListener('load', function () {\r\n                tmp.img_obj = img_1;\r\n                cancelAnimationFrame(tmp.checkAnimFrame);\r\n            });\r\n            img_1.src = particles.shape.image.src;\r\n        }\r\n    }\r\n    else {\r\n        tmp.img_error = true;\r\n        throw \"Error : no image.src\";\r\n    }\r\n}\r\n/**\r\n * @param {?} particle\r\n * @param {?} tmp\r\n * @return {?}\r\n */\r\nfunction createSvgImg(particle, tmp) {\r\n    var /** @type {?} */ svgXml = tmp.source_svg;\r\n    var /** @type {?} */ rgbHex = /#([0-9A-F]{3,6})/gi;\r\n    var /** @type {?} */ coloredSvgXml = svgXml.replace(rgbHex, function (m, r, g, b) {\r\n        var /** @type {?} */ color_value;\r\n        if (particle.color.rgb) {\r\n            var _a = particle.color.rgb, r_1 = _a.r, g_1 = _a.g, b_1 = _a.b;\r\n            color_value = \"rgba( \" + r_1 + \", \" + g_1 + \", \" + b_1 + \", \" + particle.opacity + \" )\";\r\n        }\r\n        else {\r\n            var _b = particle.color.hsl, h = _b.h, s = _b.s, l = _b.l;\r\n            color_value = \"rgba( \" + h + \", \" + s + \", \" + l + \", \" + particle.opacity + \" )\";\r\n        }\r\n        return color_value;\r\n    });\r\n    var /** @type {?} */ svg = new Blob([coloredSvgXml], {\r\n        type: 'image/svg+xml;charset=utf-8'\r\n    });\r\n    var /** @type {?} */ DOMURL = window.URL || window;\r\n    var /** @type {?} */ url = DOMURL.createObjectURL(svg);\r\n    var /** @type {?} */ img = new Image();\r\n    img.addEventListener('load', function () {\r\n        particle.img.obj = img;\r\n        particle.img.loaded = true;\r\n        DOMURL.revokeObjectURL(url);\r\n        tmp.count_svg++;\r\n    });\r\n    img.src = url;\r\n}\n\nvar CanvasManager$$1 = (function () {\r\n    /**\r\n     * @param {?} _canvasParams\r\n     * @param {?} _params\r\n     * @param {?} _tmpParams\r\n     */\r\n    function CanvasManager$$1(_canvasParams, _params, _tmpParams) {\r\n        this._canvasParams = _canvasParams;\r\n        this._params = _params;\r\n        this._tmpParams = _tmpParams;\r\n        this._onWindowResize = this._onWindowResize.bind(this);\r\n        this._retinaInit();\r\n        this._canvasSize();\r\n        this.particlesManager = new ParticlesManager$$1(this._canvasParams, this._params, this._tmpParams);\r\n        this.particlesManager.particlesCreate();\r\n        this._densityAutoParticles();\r\n        var particles = this._params.particles;\r\n        particles.line_linked.color_rgb_line = hexToRgb(particles.line_linked.color);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype.draw = function () {\r\n        var particles = this._params.particles;\r\n        if (particles.shape.type == 'image') {\r\n            if (this._tmpParams.img_type == 'svg') {\r\n                if (this._tmpParams.count_svg >= particles.number.value) {\r\n                    this.particlesManager.particlesDraw();\r\n                    if (!particles.move.enable) {\r\n                        cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n                    }\r\n                    else {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                }\r\n                else {\r\n                    if (!this._tmpParams.img_error) {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this._tmpParams.img_obj != undefined) {\r\n                    this.particlesManager.particlesDraw();\r\n                    if (!particles.move.enable) {\r\n                        cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n                    }\r\n                    else {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                }\r\n                else {\r\n                    if (!this._tmpParams.img_error) {\r\n                        this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.particlesManager.particlesDraw();\r\n            if (!particles.move.enable) {\r\n                cancelAnimationFrame(this._tmpParams.drawAnimFrame);\r\n            }\r\n            else {\r\n                this._tmpParams.drawAnimFrame = requestAnimationFrame(this.draw.bind(this));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype._densityAutoParticles = function () {\r\n        var particles = this._params.particles;\r\n        if (particles.number.density.enable) {\r\n            var /** @type {?} */ area = this._canvasParams.el.width * this._canvasParams.el.height / 1000;\r\n            if (this._tmpParams.retina) {\r\n                area = area / (this._canvasParams.pxratio * 2);\r\n            }\r\n            var /** @type {?} */ nb_particles = area * particles.number.value / particles.number.density.value_area;\r\n            var /** @type {?} */ missing_particles = particles.array.length - nb_particles;\r\n            if (missing_particles < 0) {\r\n                this.particlesManager.pushParticles(Math.abs(missing_particles));\r\n            }\r\n            else {\r\n                this.particlesManager.removeParticles(missing_particles);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype._retinaInit = function () {\r\n        if (this._params.retina_detect && window.devicePixelRatio > 1) {\r\n            this._canvasParams.pxratio = window.devicePixelRatio;\r\n            this._tmpParams.retina = true;\r\n            this._canvasParams.width = this._canvasParams.el.offsetWidth * this._canvasParams.pxratio;\r\n            this._canvasParams.height = this._canvasParams.el.offsetHeight * this._canvasParams.pxratio;\r\n            this._params.particles.size.value = this._tmpParams.obj.size_value * this._canvasParams.pxratio;\r\n            this._params.particles.size.anim.speed = this._tmpParams.obj.size_anim_speed * this._canvasParams.pxratio;\r\n            this._params.particles.move.speed = this._tmpParams.obj.move_speed * this._canvasParams.pxratio;\r\n            this._params.particles.line_linked.distance = this._tmpParams.obj.line_linked_distance * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.grab.distance = this._tmpParams.obj.mode_grab_distance * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.bubble.distance = this._tmpParams.obj.mode_bubble_distance * this._canvasParams.pxratio;\r\n            this._params.particles.line_linked.width = this._tmpParams.obj.line_linked_width * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.bubble.size = this._tmpParams.obj.mode_bubble_size * this._canvasParams.pxratio;\r\n            this._params.interactivity.modes.repulse.distance = this._tmpParams.obj.mode_repulse_distance * this._canvasParams.pxratio;\r\n        }\r\n        else {\r\n            this._canvasParams.pxratio = 1;\r\n            this._tmpParams.retina = false;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype._canvasClear = function () {\r\n        this._canvasParams.ctx.clearRect(0, 0, this._canvasParams.width, this._canvasParams.height);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype._canvasPaint = function () {\r\n        this._canvasParams.ctx.fillRect(0, 0, this._canvasParams.width, this._canvasParams.height);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype._canvasSize = function () {\r\n        this._canvasParams.el.width = this._canvasParams.width;\r\n        this._canvasParams.el.height = this._canvasParams.height;\r\n        if (this._params && this._params.interactivity.events.resize) {\r\n            window.addEventListener('resize', this._onWindowResize);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    CanvasManager$$1.prototype._onWindowResize = function () {\r\n        this._canvasParams.width = this._canvasParams.el.offsetWidth;\r\n        this._canvasParams.height = this._canvasParams.el.offsetHeight;\r\n        if (this._tmpParams.retina) {\r\n            this._canvasParams.width *= this._canvasParams.pxratio;\r\n            this._canvasParams.height *= this._canvasParams.pxratio;\r\n        }\r\n        this._canvasParams.el.width = this._canvasParams.width;\r\n        this._canvasParams.el.height = this._canvasParams.height;\r\n        if (!this._params.particles.move.enable) {\r\n            this.particlesManager.particlesEmpty();\r\n            this.particlesManager.particlesCreate();\r\n            this.particlesManager.particlesDraw();\r\n            this._densityAutoParticles();\r\n        }\r\n        this._densityAutoParticles();\r\n    };\r\n    return CanvasManager$$1;\r\n}());\n\nvar ParticlesManager$$1 = (function () {\r\n    /**\r\n     * @param {?} _canvasParams\r\n     * @param {?} _params\r\n     * @param {?} _tmpParams\r\n     */\r\n    function ParticlesManager$$1(_canvasParams, _params, _tmpParams) {\r\n        this._canvasParams = _canvasParams;\r\n        this._params = _params;\r\n        this._tmpParams = _tmpParams;\r\n        this._interaction = new ParticleInteraction();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype.particlesCreate = function () {\r\n        var _a = this._params.particles, color = _a.color, opacity = _a.opacity;\r\n        for (var /** @type {?} */ i = 0; i < this._params.particles.number.value; i++) {\r\n            this._params.particles.array.push(new Particle$$1(this._canvasParams, this._params, this._tmpParams, color, opacity.value));\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype._particlesUpdate = function () {\r\n        var _this = this;\r\n        this._params.particles.array.forEach(function (particle, i) {\r\n            if (_this._params.particles.move.enable) {\r\n                var /** @type {?} */ ms = _this._params.particles.move.speed / 2;\r\n                particle.x += particle.vx * ms;\r\n                particle.y += particle.vy * ms;\r\n            }\r\n            if (_this._params.particles.opacity.anim.enable) {\r\n                if (particle.opacity_status == true) {\r\n                    if (particle.opacity >= _this._params.particles.opacity.value)\r\n                        particle.opacity_status = false;\r\n                    particle.opacity += particle.vo;\r\n                }\r\n                else {\r\n                    if (particle.opacity <= _this._params.particles.opacity.anim.opacity_min)\r\n                        particle.opacity_status = true;\r\n                    particle.opacity -= particle.vo;\r\n                }\r\n                if (particle.opacity < 0)\r\n                    particle.opacity = 0;\r\n            }\r\n            if (_this._params.particles.size.anim.enable) {\r\n                if (particle.size_status == true) {\r\n                    if (particle.radius >= _this._params.particles.size.value)\r\n                        particle.size_status = false;\r\n                    particle.radius += particle.vs;\r\n                }\r\n                else {\r\n                    if (particle.radius <= _this._params.particles.size.anim.size_min)\r\n                        particle.size_status = true;\r\n                    particle.radius -= particle.vs;\r\n                }\r\n                if (particle.radius < 0)\r\n                    particle.radius = 0;\r\n            }\r\n            var /** @type {?} */ new_pos;\r\n            if (_this._params.particles.move.out_mode == 'bounce') {\r\n                new_pos = {\r\n                    x_left: particle.radius,\r\n                    x_right: _this._canvasParams.width,\r\n                    y_top: particle.radius,\r\n                    y_bottom: _this._canvasParams.height\r\n                };\r\n            }\r\n            else {\r\n                new_pos = {\r\n                    x_left: -particle.radius,\r\n                    x_right: _this._canvasParams.width + particle.radius,\r\n                    y_top: -particle.radius,\r\n                    y_bottom: _this._canvasParams.height + particle.radius\r\n                };\r\n            }\r\n            if (particle.x - particle.radius > _this._canvasParams.width) {\r\n                particle.x = new_pos.x_left;\r\n                particle.y = Math.random() * _this._canvasParams.height;\r\n            }\r\n            else if (particle.x + particle.radius < 0) {\r\n                particle.x = new_pos.x_right;\r\n                particle.y = Math.random() * _this._canvasParams.height;\r\n            }\r\n            if (particle.y - particle.radius > _this._canvasParams.height) {\r\n                particle.y = new_pos.y_top;\r\n                particle.x = Math.random() * _this._canvasParams.width;\r\n            }\r\n            else if (particle.y + particle.radius < 0) {\r\n                particle.y = new_pos.y_bottom;\r\n                particle.x = Math.random() * _this._canvasParams.width;\r\n            }\r\n            switch (_this._params.particles.move.out_mode) {\r\n                case 'bounce':\r\n                    if (particle.x + particle.radius > _this._canvasParams.width)\r\n                        particle.vx = -particle.vx;\r\n                    else if (particle.x - particle.radius < 0)\r\n                        particle.vx = -particle.vx;\r\n                    if (particle.y + particle.radius > _this._canvasParams.height)\r\n                        particle.vy = -particle.vy;\r\n                    else if (particle.y - particle.radius < 0)\r\n                        particle.vy = -particle.vy;\r\n                    break;\r\n            }\r\n            if (isInArray('grab', _this._params.interactivity.events.onhover.mode)) {\r\n                _this._grabParticle(particle);\r\n            }\r\n            if (isInArray('bubble', _this._params.interactivity.events.onhover.mode) ||\r\n                isInArray('bubble', _this._params.interactivity.events.onclick.mode)) {\r\n                _this._bubbleParticle(particle);\r\n            }\r\n            if (isInArray('repulse', _this._params.interactivity.events.onhover.mode) ||\r\n                isInArray('repulse', _this._params.interactivity.events.onclick.mode)) {\r\n                _this._repulseParticle(particle);\r\n            }\r\n            if (_this._params.particles.line_linked.enable || _this._params.particles.move.attract.enable) {\r\n                for (var /** @type {?} */ j = i + 1; j < _this._params.particles.array.length; j++) {\r\n                    var /** @type {?} */ link = _this._params.particles.array[j];\r\n                    if (_this._params.particles.line_linked.enable)\r\n                        _this._interaction.linkParticles(particle, link, _this._params, _this._canvasParams);\r\n                    if (_this._params.particles.move.attract.enable)\r\n                        _this._interaction.attractParticles(particle, link, _this._params);\r\n                    if (_this._params.particles.move.bounce)\r\n                        _this._interaction.bounceParticles(particle, link);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype.particlesDraw = function () {\r\n        this._canvasParams.ctx.clearRect(0, 0, this._canvasParams.width, this._canvasParams.height);\r\n        this._particlesUpdate();\r\n        this._params.particles.array.forEach(function (particle) {\r\n            particle.draw();\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype.particlesEmpty = function () {\r\n        this._params.particles.array = [];\r\n    };\r\n    /**\r\n     * @param {?} nb\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype.removeParticles = function (nb) {\r\n        this._params.particles.array.splice(0, nb);\r\n        if (!this._params.particles.move.enable) {\r\n            this.particlesDraw();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} nb\r\n     * @param {?=} pos\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype.pushParticles = function (nb, pos) {\r\n        this._tmpParams.pushing = true;\r\n        for (var /** @type {?} */ i = 0; i < nb; i++) {\r\n            this._params.particles.array.push(new Particle$$1(this._canvasParams, this._params, this._tmpParams, this._params.particles.color, this._params.particles.opacity.value, {\r\n                x: pos ? pos.pos_x : Math.random() * this._canvasParams.width,\r\n                y: pos ? pos.pos_y : Math.random() * this._canvasParams.height\r\n            }));\r\n            if (i == nb - 1) {\r\n                if (!this._params.particles.move.enable) {\r\n                    this.particlesDraw();\r\n                }\r\n                this._tmpParams.pushing = false;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} particle\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype._bubbleParticle = function (particle) {\r\n        var _this = this;\r\n        if (this._params.interactivity.events.onhover.enable &&\r\n            isInArray('bubble', this._params.interactivity.events.onhover.mode)) {\r\n            var /** @type {?} */ dx_mouse = particle.x - this._params.interactivity.mouse.pos_x;\r\n            var /** @type {?} */ dy_mouse = particle.y - this._params.interactivity.mouse.pos_y;\r\n            var /** @type {?} */ dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            var /** @type {?} */ ratio = 1 - dist_mouse / this._params.interactivity.modes.bubble.distance;\r\n            var /** @type {?} */ init = function () {\r\n                particle.opacity_bubble = particle.opacity;\r\n                particle.radius_bubble = particle.radius;\r\n            };\r\n            if (dist_mouse <= this._params.interactivity.modes.bubble.distance) {\r\n                if (ratio >= 0 && this._params.interactivity.status == 'mousemove') {\r\n                    if (this._params.interactivity.modes.bubble.size != this._params.particles.size.value) {\r\n                        if (this._params.interactivity.modes.bubble.size > this._params.particles.size.value) {\r\n                            var /** @type {?} */ size = particle.radius + (this._params.interactivity.modes.bubble.size * ratio);\r\n                            if (size >= 0) {\r\n                                particle.radius_bubble = size;\r\n                            }\r\n                        }\r\n                        else {\r\n                            var /** @type {?} */ dif = particle.radius - this._params.interactivity.modes.bubble.size;\r\n                            var /** @type {?} */ size = particle.radius - (dif * ratio);\r\n                            if (size > 0) {\r\n                                particle.radius_bubble = size;\r\n                            }\r\n                            else {\r\n                                particle.radius_bubble = 0;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this._params.interactivity.modes.bubble.opacity != this._params.particles.opacity.value) {\r\n                        if (this._params.interactivity.modes.bubble.opacity > this._params.particles.opacity.value) {\r\n                            var /** @type {?} */ opacity = this._params.interactivity.modes.bubble.opacity * ratio;\r\n                            if (opacity > particle.opacity && opacity <= this._params.interactivity.modes.bubble.opacity) {\r\n                                particle.opacity_bubble = opacity;\r\n                            }\r\n                        }\r\n                        else {\r\n                            var /** @type {?} */ opacity = particle.opacity - (this._params.particles.opacity.value - this._params.interactivity.modes.bubble.opacity) * ratio;\r\n                            if (opacity < particle.opacity && opacity >= this._params.interactivity.modes.bubble.opacity) {\r\n                                particle.opacity_bubble = opacity;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                init();\r\n            }\r\n            if (this._params.interactivity.status == 'mouseleave') {\r\n                init();\r\n            }\r\n        }\r\n        else if (this._params.interactivity.events.onclick.enable &&\r\n            isInArray('bubble', this._params.interactivity.events.onclick.mode)) {\r\n            if (this._tmpParams.bubble_clicking) {\r\n                var /** @type {?} */ dx_mouse = particle.x - this._params.interactivity.mouse.click_pos_x;\r\n                var /** @type {?} */ dy_mouse = particle.y - this._params.interactivity.mouse.click_pos_y;\r\n                var /** @type {?} */ dist_mouse_1 = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n                var /** @type {?} */ time_spent_1 = (new Date().getTime() - this._params.interactivity.mouse.click_time) / 1000;\r\n                if (time_spent_1 > this._params.interactivity.modes.bubble.duration) {\r\n                    this._tmpParams.bubble_duration_end = true;\r\n                }\r\n                if (time_spent_1 > this._params.interactivity.modes.bubble.duration * 2) {\r\n                    this._tmpParams.bubble_clicking = false;\r\n                    this._tmpParams.bubble_duration_end = false;\r\n                }\r\n                var /** @type {?} */ process = function (bubble_param, particles_param, p_obj_bubble, p_obj, id) {\r\n                    if (bubble_param != particles_param) {\r\n                        if (!_this._tmpParams.bubble_duration_end) {\r\n                            if (dist_mouse_1 <= _this._params.interactivity.modes.bubble.distance) {\r\n                                var /** @type {?} */ obj = void 0;\r\n                                if (p_obj_bubble != undefined) {\r\n                                    obj = p_obj_bubble;\r\n                                }\r\n                                else {\r\n                                    obj = p_obj;\r\n                                }\r\n                                if (obj != bubble_param) {\r\n                                    var /** @type {?} */ value = p_obj - (time_spent_1 * (p_obj - bubble_param) / _this._params.interactivity.modes.bubble.duration);\r\n                                    if (id == 'size')\r\n                                        particle.radius_bubble = value;\r\n                                    if (id == 'opacity')\r\n                                        particle.opacity_bubble = value;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (id == 'size')\r\n                                    particle.radius_bubble = undefined;\r\n                                if (id == 'opacity')\r\n                                    particle.opacity_bubble = undefined;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (p_obj_bubble != undefined) {\r\n                                var /** @type {?} */ value_tmp = p_obj - (time_spent_1 * (p_obj - bubble_param) / _this._params.interactivity.modes.bubble.duration);\r\n                                var /** @type {?} */ dif = bubble_param - value_tmp;\r\n                                var /** @type {?} */ value = bubble_param + dif;\r\n                                if (id == 'size')\r\n                                    particle.radius_bubble = value;\r\n                                if (id == 'opacity')\r\n                                    particle.opacity_bubble = value;\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n                if (this._tmpParams.bubble_clicking) {\r\n                    process(this._params.interactivity.modes.bubble.size, this._params.particles.size.value, particle.radius_bubble, particle.radius, 'size');\r\n                    process(this._params.interactivity.modes.bubble.opacity, this._params.particles.opacity.value, particle.opacity_bubble, particle.opacity, 'opacity');\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} particle\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype._repulseParticle = function (particle) {\r\n        var _this = this;\r\n        if (this._params.interactivity.events.onhover.enable &&\r\n            isInArray('repulse', this._params.interactivity.events.onhover.mode) &&\r\n            this._params.interactivity.status == 'mousemove') {\r\n            var /** @type {?} */ dx_mouse = particle.x - this._params.interactivity.mouse.pos_x;\r\n            var /** @type {?} */ dy_mouse = particle.y - this._params.interactivity.mouse.pos_y;\r\n            var /** @type {?} */ dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            var /** @type {?} */ normVec = { x: dx_mouse / dist_mouse, y: dy_mouse / dist_mouse };\r\n            var /** @type {?} */ repulseRadius = this._params.interactivity.modes.repulse.distance;\r\n            var /** @type {?} */ velocity = 100;\r\n            var /** @type {?} */ repulseFactor = clamp((1 / repulseRadius) * (-1 * Math.pow(dist_mouse / repulseRadius, 2) + 1) * repulseRadius * velocity, 0, 50);\r\n            var /** @type {?} */ pos = {\r\n                x: particle.x + normVec.x * repulseFactor,\r\n                y: particle.y + normVec.y * repulseFactor\r\n            };\r\n            if (this._params.particles.move.out_mode == 'bounce') {\r\n                if (pos.x - particle.radius > 0 && pos.x + particle.radius < this._canvasParams.width)\r\n                    particle.x = pos.x;\r\n                if (pos.y - particle.radius > 0 && pos.y + particle.radius < this._canvasParams.height)\r\n                    particle.y = pos.y;\r\n            }\r\n            else {\r\n                particle.x = pos.x;\r\n                particle.y = pos.y;\r\n            }\r\n        }\r\n        else if (this._params.interactivity.events.onclick.enable &&\r\n            isInArray('repulse', this._params.interactivity.events.onclick.mode)) {\r\n            if (!this._tmpParams.repulse_finish) {\r\n                this._tmpParams.repulse_count++;\r\n                if (this._tmpParams.repulse_count == this._params.particles.array.length)\r\n                    this._tmpParams.repulse_finish = true;\r\n            }\r\n            if (this._tmpParams.repulse_clicking) {\r\n                var /** @type {?} */ repulseRadius = Math.pow(this._params.interactivity.modes.repulse.distance / 6, 3);\r\n                var /** @type {?} */ dx_1 = this._params.interactivity.mouse.click_pos_x - particle.x;\r\n                var /** @type {?} */ dy_1 = this._params.interactivity.mouse.click_pos_y - particle.y;\r\n                var /** @type {?} */ d = dx_1 * dx_1 + dy_1 * dy_1;\r\n                var /** @type {?} */ force_1 = -repulseRadius / d * 1;\r\n                var /** @type {?} */ process = function () {\r\n                    var /** @type {?} */ f = Math.atan2(dy_1, dx_1);\r\n                    particle.vx = force_1 * Math.cos(f);\r\n                    particle.vy = force_1 * Math.sin(f);\r\n                    if (_this._params.particles.move.out_mode == 'bounce') {\r\n                        var /** @type {?} */ pos = {\r\n                            x: particle.x + particle.vx,\r\n                            y: particle.y + particle.vy\r\n                        };\r\n                        if (pos.x + particle.radius > _this._canvasParams.width)\r\n                            particle.vx = -particle.vx;\r\n                        else if (pos.x - particle.radius < 0)\r\n                            particle.vx = -particle.vx;\r\n                        if (pos.y + particle.radius > _this._canvasParams.height)\r\n                            particle.vy = -particle.vy;\r\n                        else if (pos.y - particle.radius < 0)\r\n                            particle.vy = -particle.vy;\r\n                    }\r\n                };\r\n                if (d <= repulseRadius) {\r\n                    process();\r\n                }\r\n            }\r\n            else {\r\n                if (this._tmpParams.repulse_clicking == false) {\r\n                    particle.vx = particle.vx_i;\r\n                    particle.vy = particle.vy_i;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} particle\r\n     * @return {?}\r\n     */\r\n    ParticlesManager$$1.prototype._grabParticle = function (particle) {\r\n        var _a = this._params, interactivity = _a.interactivity, particles = _a.particles;\r\n        if (interactivity.events.onhover.enable &&\r\n            interactivity.status == 'mousemove') {\r\n            var /** @type {?} */ dx_mouse = particle.x - interactivity.mouse.pos_x;\r\n            var /** @type {?} */ dy_mouse = particle.y - interactivity.mouse.pos_y;\r\n            var /** @type {?} */ dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            if (dist_mouse <= interactivity.modes.grab.distance) {\r\n                var grab = interactivity.modes.grab;\r\n                var /** @type {?} */ opacity_line = grab.line_linked.opacity - (dist_mouse / (1 / grab.line_linked.opacity)) / grab.distance;\r\n                if (opacity_line > 0) {\r\n                    var /** @type {?} */ color_line = particles.line_linked.color_rgb_line;\r\n                    var r = color_line.r, g = color_line.g, b = color_line.b;\r\n                    this._canvasParams.ctx.strokeStyle = \"rgba( \" + r + \", \" + g + \", \" + b + \", \" + opacity_line + \" )\";\r\n                    this._canvasParams.ctx.lineWidth = particles.line_linked.width;\r\n                    this._canvasParams.ctx.beginPath();\r\n                    this._canvasParams.ctx.moveTo(particle.x, particle.y);\r\n                    this._canvasParams.ctx.lineTo(interactivity.mouse.pos_x, interactivity.mouse.pos_y);\r\n                    this._canvasParams.ctx.stroke();\r\n                    this._canvasParams.ctx.closePath();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return ParticlesManager$$1;\r\n}());\n\nvar Particle$$1 = (function () {\r\n    /**\r\n     * @param {?} _canvasParams\r\n     * @param {?} _params\r\n     * @param {?} _tmpParams\r\n     * @param {?=} color\r\n     * @param {?=} opacity\r\n     * @param {?=} position\r\n     */\r\n    function Particle$$1(_canvasParams, _params, _tmpParams, color, opacity, position) {\r\n        this._canvasParams = _canvasParams;\r\n        this._params = _params;\r\n        this._tmpParams = _tmpParams;\r\n        this._setupSize();\r\n        this._setupPosition(position);\r\n        this._setupColor(color);\r\n        this._setupOpacity();\r\n        this._setupAnimation();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._setupSize = function () {\r\n        this.radius = (this._params.particles.size.random ? Math.random() : 1) * this._params.particles.size.value;\r\n        if (this._params.particles.size.anim.enable) {\r\n            this.size_status = false;\r\n            this.vs = this._params.particles.size.anim.speed / 100;\r\n            if (!this._params.particles.size.anim.sync)\r\n                this.vs = this.vs * Math.random();\r\n        }\r\n    };\r\n    /**\r\n     * @param {?=} position\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._setupPosition = function (position) {\r\n        this.x = position ? position.x : Math.random() * this._canvasParams.width;\r\n        this.y = position ? position.y : Math.random() * this._canvasParams.height;\r\n        if (this.x > this._canvasParams.width - this.radius * 2) {\r\n            this.x = this.x - this.radius;\r\n        }\r\n        else if (this.x < this.radius * 2) {\r\n            this.x = this.x + this.radius;\r\n        }\r\n        if (this.y > this._canvasParams.height - this.radius * 2) {\r\n            this.y = this.y - this.radius;\r\n        }\r\n        else if (this.y < this.radius * 2) {\r\n            this.y = this.y + this.radius;\r\n        }\r\n        if (this._params.particles.move.bounce) {\r\n            this._checkOverlap(this, position);\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} p1\r\n     * @param {?=} position\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._checkOverlap = function (p1, position) {\r\n        var _this = this;\r\n        var particles = this._params.particles;\r\n        particles.array.forEach(function (particle) {\r\n            var /** @type {?} */ p2 = particle;\r\n            var /** @type {?} */ dx = p1.x - p2.x;\r\n            var /** @type {?} */ dy = p1.y - p2.y;\r\n            var /** @type {?} */ dist = Math.sqrt(dx * dx + dy * dy);\r\n            if (dist <= p1.radius + p2.radius) {\r\n                p1.x = position ? position.x : Math.random() * _this._canvasParams.width;\r\n                p1.y = position ? position.y : Math.random() * _this._canvasParams.height;\r\n                _this._checkOverlap(p1);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @param {?=} color\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._setupColor = function (color) {\r\n        this.color = getColor(color.value);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._setupOpacity = function () {\r\n        this.opacity = (this._params.particles.opacity.random ? Math.random() : 1) * this._params.particles.opacity.value;\r\n        if (this._params.particles.opacity.anim.enable) {\r\n            this.opacity_status = false;\r\n            this.vo = this._params.particles.opacity.anim.speed / 100;\r\n            if (!this._params.particles.opacity.anim.sync) {\r\n                this.vo = this.vo * Math.random();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._setupAnimation = function () {\r\n        var /** @type {?} */ velbase = null;\r\n        switch (this._params.particles.move.direction) {\r\n            case 'top':\r\n                velbase = { x: 0, y: -1 };\r\n                break;\r\n            case 'top-right':\r\n                velbase = { x: 0.5, y: -0.5 };\r\n                break;\r\n            case 'right':\r\n                velbase = { x: 1, y: 0 };\r\n                break;\r\n            case 'bottom-right':\r\n                velbase = { x: 0.5, y: 0.5 };\r\n                break;\r\n            case 'bottom':\r\n                velbase = { x: 0, y: 1 };\r\n                break;\r\n            case 'bottom-left':\r\n                velbase = { x: -0.5, y: 1 };\r\n                break;\r\n            case 'left':\r\n                velbase = { x: -1, y: 0 };\r\n                break;\r\n            case 'top-left':\r\n                velbase = { x: -0.5, y: -0.5 };\r\n                break;\r\n            default:\r\n                velbase = { x: 0, y: 0 };\r\n                break;\r\n        }\r\n        if (this._params.particles.move.straight) {\r\n            this.vx = velbase.x;\r\n            this.vy = velbase.y;\r\n            if (this._params.particles.move.random) {\r\n                this.vx = this.vx * (Math.random());\r\n                this.vy = this.vy * (Math.random());\r\n            }\r\n        }\r\n        else {\r\n            this.vx = velbase.x + Math.random() - 0.5;\r\n            this.vy = velbase.y + Math.random() - 0.5;\r\n        }\r\n        this.vx_i = this.vx;\r\n        this.vy_i = this.vy;\r\n        var /** @type {?} */ shape_type = this._params.particles.shape.type;\r\n        if (typeof (shape_type) == 'object') {\r\n            if (shape_type instanceof Array) {\r\n                var /** @type {?} */ shape_selected = shape_type[Math.floor(Math.random() * shape_type.length)];\r\n                this.shape = shape_selected;\r\n            }\r\n        }\r\n        else {\r\n            this.shape = shape_type;\r\n        }\r\n        if (this.shape == 'image') {\r\n            var /** @type {?} */ sh = this._params.particles.shape;\r\n            this.img = {\r\n                src: sh.image.src,\r\n                ratio: sh.image.width / sh.image.height\r\n            };\r\n            if (!this.img.ratio)\r\n                this.img.ratio = 1;\r\n            if (this._tmpParams.img_type == 'svg' && this._tmpParams.source_svg != undefined) {\r\n                createSvgImg(this, this._tmpParams);\r\n                if (this._tmpParams.pushing) {\r\n                    this.img.loaded = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} c\r\n     * @param {?} startX\r\n     * @param {?} startY\r\n     * @param {?} sideLength\r\n     * @param {?} sideCountNumerator\r\n     * @param {?} sideCountDenominator\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype._drawShape = function (c, startX, startY, sideLength, sideCountNumerator, sideCountDenominator) {\r\n        var /** @type {?} */ sideCount = sideCountNumerator * sideCountDenominator;\r\n        var /** @type {?} */ decimalSides = sideCountNumerator / sideCountDenominator;\r\n        var /** @type {?} */ interiorAngleDegrees = (180 * (decimalSides - 2)) / decimalSides;\r\n        var /** @type {?} */ interiorAngle = Math.PI - Math.PI * interiorAngleDegrees / 180;\r\n        c.save();\r\n        c.beginPath();\r\n        c.translate(startX, startY);\r\n        c.moveTo(0, 0);\r\n        for (var /** @type {?} */ i = 0; i < sideCount; i++) {\r\n            c.lineTo(sideLength, 0);\r\n            c.translate(sideLength, 0);\r\n            c.rotate(interiorAngle);\r\n        }\r\n        c.fill();\r\n        c.restore();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    Particle$$1.prototype.draw = function () {\r\n        var _this = this;\r\n        var particles = this._params.particles;\r\n        var /** @type {?} */ radius;\r\n        if (this.radius_bubble != undefined) {\r\n            radius = this.radius_bubble;\r\n        }\r\n        else {\r\n            radius = this.radius;\r\n        }\r\n        var /** @type {?} */ opacity;\r\n        if (this.opacity_bubble != undefined) {\r\n            opacity = this.opacity_bubble;\r\n        }\r\n        else {\r\n            opacity = this.opacity;\r\n        }\r\n        var /** @type {?} */ color_value;\r\n        if (this.color.rgb) {\r\n            var _a = this.color.rgb, r = _a.r, g = _a.g, b = _a.b;\r\n            color_value = \"rgba( \" + r + \", \" + g + \", \" + b + \", \" + opacity + \" )\";\r\n        }\r\n        else {\r\n            var _b = this.color.hsl, h = _b.h, s = _b.s, l = _b.l;\r\n            color_value = \"hsla( \" + h + \", \" + s + \", \" + l + \", \" + opacity + \" )\";\r\n        }\r\n        this._canvasParams.ctx.fillStyle = color_value;\r\n        this._canvasParams.ctx.beginPath();\r\n        switch (this.shape) {\r\n            case 'circle':\r\n                this._canvasParams.ctx.arc(this.x, this.y, radius, 0, Math.PI * 2, false);\r\n                break;\r\n            case 'edge':\r\n                this._canvasParams.ctx.rect(this.x - radius, this.y - radius, radius * 2, radius * 2);\r\n                break;\r\n            case 'triangle':\r\n                this._drawShape(this._canvasParams.ctx, this.x - radius, this.y + radius / 1.66, radius * 2, 3, 2);\r\n                break;\r\n            case 'polygon':\r\n                this._drawShape(this._canvasParams.ctx, this.x - radius / (this._params.particles.shape.polygon.nb_sides / 3.5), this.y - radius / (2.66 / 3.5), radius * 2.66 / (this._params.particles.shape.polygon.nb_sides / 3), this._params.particles.shape.polygon.nb_sides, 1);\r\n                break;\r\n            case 'star':\r\n                this._drawShape(this._canvasParams.ctx, this.x - radius * 2 / (this._params.particles.shape.polygon.nb_sides / 4), this.y - radius / (2 * 2.66 / 3.5), radius * 2 * 2.66 / (this._params.particles.shape.polygon.nb_sides / 3), this._params.particles.shape.polygon.nb_sides, 2);\r\n                break;\r\n            case 'image':\r\n                var /** @type {?} */ draw = function (img_obj) {\r\n                    _this._canvasParams.ctx.drawImage(img_obj, _this.x - radius, _this.y - radius, radius * 2, radius * 2 / _this.img.ratio);\r\n                };\r\n                var /** @type {?} */ img_obj = void 0;\r\n                if (this._tmpParams.img_type == 'svg') {\r\n                    img_obj = this.img.obj;\r\n                }\r\n                else {\r\n                    img_obj = this._tmpParams.img_obj;\r\n                }\r\n                if (img_obj)\r\n                    draw(img_obj);\r\n                break;\r\n        }\r\n        this._canvasParams.ctx.closePath();\r\n        if (this._params.particles.shape.stroke.width > 0) {\r\n            this._canvasParams.ctx.strokeStyle = this._params.particles.shape.stroke.color;\r\n            this._canvasParams.ctx.lineWidth = this._params.particles.shape.stroke.width;\r\n            this._canvasParams.ctx.stroke();\r\n        }\r\n        this._canvasParams.ctx.fill();\r\n    };\r\n    return Particle$$1;\r\n}());\n\nvar ParticleInteraction = (function () {\r\n    function ParticleInteraction() {\r\n    }\r\n    /**\r\n     * @param {?} p1\r\n     * @param {?} p2\r\n     * @param {?} params\r\n     * @param {?} canvasParams\r\n     * @return {?}\r\n     */\r\n    ParticleInteraction.prototype.linkParticles = function (p1, p2, params, canvasParams) {\r\n        var /** @type {?} */ dx = p1.x - p2.x;\r\n        var /** @type {?} */ dy = p1.y - p2.y;\r\n        var /** @type {?} */ dist = Math.sqrt(dx * dx + dy * dy);\r\n        var line_linked = params.particles.line_linked;\r\n        if (dist <= params.particles.line_linked.distance) {\r\n            var /** @type {?} */ opacity_line = params.particles.line_linked.opacity - (dist / (1 / params.particles.line_linked.opacity)) / params.particles.line_linked.distance;\r\n            if (opacity_line > 0) {\r\n                var /** @type {?} */ color_line = params.particles.line_linked.color_rgb_line;\r\n                var r = color_line.r, g = color_line.g, b = color_line.b;\r\n                canvasParams.ctx.save();\r\n                canvasParams.ctx.strokeStyle = \"rgba( \" + r + \", \" + g + \", \" + b + \", \" + opacity_line + \" )\";\r\n                canvasParams.ctx.lineWidth = params.particles.line_linked.width;\r\n                canvasParams.ctx.beginPath();\r\n                if (line_linked.shadow.enable) {\r\n                    canvasParams.ctx.shadowBlur = line_linked.shadow.blur;\r\n                    canvasParams.ctx.shadowColor = line_linked.shadow.color;\r\n                }\r\n                canvasParams.ctx.moveTo(p1.x, p1.y);\r\n                canvasParams.ctx.lineTo(p2.x, p2.y);\r\n                canvasParams.ctx.stroke();\r\n                canvasParams.ctx.closePath();\r\n                canvasParams.ctx.restore();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} p1\r\n     * @param {?} p2\r\n     * @param {?} params\r\n     * @return {?}\r\n     */\r\n    ParticleInteraction.prototype.attractParticles = function (p1, p2, params) {\r\n        var /** @type {?} */ dx = p1.x - p2.x;\r\n        var /** @type {?} */ dy = p1.y - p2.y;\r\n        var /** @type {?} */ dist = Math.sqrt(dx * dx + dy * dy);\r\n        if (dist <= params.particles.line_linked.distance) {\r\n            var /** @type {?} */ ax = dx / (params.particles.move.attract.rotateX * 1000);\r\n            var /** @type {?} */ ay = dy / (params.particles.move.attract.rotateY * 1000);\r\n            p1.vx -= ax;\r\n            p1.vy -= ay;\r\n            p2.vx += ax;\r\n            p2.vy += ay;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} p1\r\n     * @param {?} p2\r\n     * @return {?}\r\n     */\r\n    ParticleInteraction.prototype.bounceParticles = function (p1, p2) {\r\n        var /** @type {?} */ dx = p1.x - p2.x;\r\n        var /** @type {?} */ dy = p1.y - p2.y;\r\n        var /** @type {?} */ dist = Math.sqrt(dx * dx + dy * dy);\r\n        var /** @type {?} */ dist_p = p1.radius + p2.radius;\r\n        if (dist <= dist_p) {\r\n            p1.vx = -p1.vx;\r\n            p1.vy = -p1.vy;\r\n            p2.vx = -p2.vx;\r\n            p2.vy = -p2.vy;\r\n        }\r\n    };\r\n    return ParticleInteraction;\r\n}());\n\nvar ParticlesDirective = (function () {\r\n    /**\r\n     * @param {?} el\r\n     */\r\n    function ParticlesDirective(el) {\r\n        this.el = el;\r\n        this._tmpParams = {};\r\n    }\r\n    Object.defineProperty(ParticlesDirective.prototype, \"params\", {\r\n        /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        set: function (value) {\r\n            var /** @type {?} */ defaultParams = getDefaultParams();\r\n            this._params = deepExtend(defaultParams, value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ParticlesDirective.prototype.ngAfterViewInit = function () {\r\n        this._canvasParams = {\r\n            el: this.el.nativeElement,\r\n            ctx: this.el.nativeElement.getContext('2d'),\r\n            width: this.el.nativeElement.offsetWidth,\r\n            height: this.el.nativeElement.offsetHeight\r\n        };\r\n        this._tmpParams.obj = {\r\n            size_value: this._params.particles.size.value,\r\n            size_anim_speed: this._params.particles.size.anim.speed,\r\n            move_speed: this._params.particles.move.speed,\r\n            line_linked_distance: this._params.particles.line_linked.distance,\r\n            line_linked_width: this._params.particles.line_linked.width,\r\n            mode_grab_distance: this._params.interactivity.modes.grab.distance,\r\n            mode_bubble_distance: this._params.interactivity.modes.bubble.distance,\r\n            mode_bubble_size: this._params.interactivity.modes.bubble.size,\r\n            mode_repulse_distance: this._params.interactivity.modes.repulse.distance\r\n        };\r\n        this._params.interactivity.el = (this._params.interactivity.detect_on == 'window') ? window : this._canvasParams.el;\r\n        if (isInArray('image', this._params.particles.shape.type)) {\r\n            this._tmpParams.img_type = this._params.particles.shape.image.src.substr(this._params.particles.shape.image.src.length - 3);\r\n            loadImg(this._params, this._tmpParams);\r\n        }\r\n        this._canvasManager = new CanvasManager$$1(this._canvasParams, this._params, this._tmpParams);\r\n        this._canvasManager.draw();\r\n    };\r\n    /**\r\n     * Mouse move event\r\n    \\@param event\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    ParticlesDirective.prototype.onMouseMove = function (event) {\r\n        var interactivity = this._params.interactivity;\r\n        if (interactivity.events.onhover.enable ||\r\n            interactivity.events.onclick.enable) {\r\n            var /** @type {?} */ pos = void 0;\r\n            if (interactivity.el == window) {\r\n                pos = {\r\n                    x: event.clientX,\r\n                    y: event.clientY\r\n                };\r\n            }\r\n            else {\r\n                pos = {\r\n                    x: event.offsetX || event.clientX,\r\n                    y: event.offsetY || event.clientY\r\n                };\r\n            }\r\n            interactivity.mouse.pos_x = pos.x;\r\n            interactivity.mouse.pos_y = pos.y;\r\n            if (this._tmpParams.retina) {\r\n                interactivity.mouse.pos_x *= this._canvasParams.pxratio;\r\n                interactivity.mouse.pos_y *= this._canvasParams.pxratio;\r\n            }\r\n            interactivity.status = 'mousemove';\r\n        }\r\n    };\r\n    /**\r\n     * Mouse leave event\r\n     * @return {?}\r\n     */\r\n    ParticlesDirective.prototype.onMouseLeave = function () {\r\n        var interactivity = this._params.interactivity;\r\n        if (interactivity.events.onhover.enable ||\r\n            interactivity.events.onclick.enable) {\r\n            interactivity.mouse.pos_x = null;\r\n            interactivity.mouse.pos_y = null;\r\n            interactivity.status = 'mouseleave';\r\n        }\r\n    };\r\n    /**\r\n     * Click event\r\n     * @return {?}\r\n     */\r\n    ParticlesDirective.prototype.onClick = function () {\r\n        var _this = this;\r\n        var _a = this._params, interactivity = _a.interactivity, particles = _a.particles;\r\n        if (interactivity.events.onclick.enable) {\r\n            interactivity.mouse.click_pos_x = interactivity.mouse.pos_x;\r\n            interactivity.mouse.click_pos_y = interactivity.mouse.pos_y;\r\n            interactivity.mouse.click_time = new Date().getTime();\r\n            switch (interactivity.events.onclick.mode) {\r\n                case 'push':\r\n                    if (particles.move.enable) {\r\n                        this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb, interactivity.mouse);\r\n                    }\r\n                    else {\r\n                        if (interactivity.modes.push.particles_nb == 1) {\r\n                            this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb, interactivity.mouse);\r\n                        }\r\n                        else if (interactivity.modes.push.particles_nb > 1) {\r\n                            this._canvasManager.particlesManager.pushParticles(interactivity.modes.push.particles_nb);\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'remove':\r\n                    this._canvasManager.particlesManager.removeParticles(interactivity.modes.remove.particles_nb);\r\n                    break;\r\n                case 'bubble':\r\n                    this._tmpParams.bubble_clicking = true;\r\n                    break;\r\n                case 'repulse':\r\n                    this._tmpParams.repulse_clicking = true;\r\n                    this._tmpParams.repulse_count = 0;\r\n                    this._tmpParams.repulse_finish = false;\r\n                    setTimeout(function () {\r\n                        _this._tmpParams.repulse_clicking = false;\r\n                    }, interactivity.modes.repulse.duration * 1000);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    return ParticlesDirective;\r\n}());\r\nParticlesDirective.decorators = [\r\n    { type: Directive, args: [{\r\n                selector: '[d-particles]'\r\n            },] },\r\n];\r\n/**\r\n * @nocollapse\r\n */\r\nParticlesDirective.ctorParameters = function () { return [\r\n    { type: ElementRef, },\r\n]; };\r\nParticlesDirective.propDecorators = {\r\n    'params': [{ type: Input },],\r\n    'onMouseMove': [{ type: HostListener, args: ['mousemove', ['$event'],] },],\r\n    'onMouseLeave': [{ type: HostListener, args: ['mouseleave',] },],\r\n    'onClick': [{ type: HostListener, args: ['click',] },],\r\n};\n\nvar ParticlesModule = (function () {\r\n    function ParticlesModule() {\r\n    }\r\n    return ParticlesModule;\r\n}());\r\nParticlesModule.decorators = [\r\n    { type: NgModule, args: [{\r\n                imports: [\r\n                    CommonModule\r\n                ],\r\n                declarations: [\r\n                    ParticlesComponent,\r\n                    ParticlesDirective\r\n                ],\r\n                exports: [\r\n                    ParticlesComponent,\r\n                    ParticlesDirective\r\n                ]\r\n            },] },\r\n];\r\n/**\r\n * @nocollapse\r\n */\r\nParticlesModule.ctorParameters = function () { return []; };\n\nexport { ParticlesModule, ParticlesComponent, ParticlesDirective };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}